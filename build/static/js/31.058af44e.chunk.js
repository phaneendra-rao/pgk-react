(this.webpackJsonppgk=this.webpackJsonppgk||[]).push([[31],{286:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return l}));var n=i(8),s=function(e){return{type:n.y,payload:e}},l=function(e){return{type:n.C,payload:e}}},300:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i(8),s=function(e){return{type:n.p,payload:e}},l=function(e){return{type:n.sb,payload:e}},c=function(e){return{type:n.g,payload:e}}},373:function(e,t,i){"use strict";i.r(t);var n=i(10),s=i(30),l=i(1),c=i(24),a=i(300),o=i(286),d=i(86),r=i.n(d),u=i(89),v=i(87),j=i(390),b=i(369),m=i(0);t.default=function(){var e,t,i,d,p,f,x,O=Object(c.a)(),h=Object(l.useState)([]),N=Object(s.a)(h,2),y=N[0],D=N[1],w=Object(l.useState)([]),S=Object(s.a)(w,2),C=S[0],g=S[1],L=Object(l.useState)(!1),R=Object(s.a)(L,2),Y=R[0],q=R[1],E=Object(l.useState)(),T=Object(s.a)(E,2),k=T[0],I=T[1],M=Object(l.useState)(),z=Object(s.a)(M,2),J=z[0],U=z[1],V=Object(l.useState)(),P=Object(s.a)(V,2),A=P[0],F=P[1],B=Object(l.useState)(),Q=Object(s.a)(B,2),H=Q[0],W=Q[1],G=function(){O(Object(a.b)({callback:function(e){var t,i;(null===e||void 0===e||null===(t=e.campusInviteReceived)||void 0===t?void 0:t.length)&&D(null===e||void 0===e?void 0:e.campusInviteReceived),(null===e||void 0===e||null===(i=e.campusInviteSent)||void 0===i?void 0:i.length)&&g(null===e||void 0===e?void 0:e.campusInviteSent)}}))};Object(l.useEffect)((function(){G()}),[]);var K=function(e,t,i){var s={};t||(s.reasonToReject=null===H||void 0===H?void 0:H.value),O(Object(a.c)({apiPayloadRequest:Object(n.a)({campusDriveID:e,accepted:t,nftID:i},s),callback:function(e){G(),q(!1),U(),I(),F()}}))},X=function(e,t){try{O(Object(o.b)({apiPayloadRequest:{type:"NOTIFICATION",notificationId:e},callback:function(e){console.log("response ",e),console.log("content ",JSON.parse(null===e||void 0===e?void 0:e.content)),function(e,t){if(U(t),I(e),"REJECTED"===t){var i=(null===e||void 0===e?void 0:e.content)?JSON.parse(e.content):void 0;F((null===i||void 0===i?void 0:i.requestContent)?null===i||void 0===i?void 0:i.requestContent:void 0),q(!0)}else"REQUEST-SENT"===t?(F((null===e||void 0===e?void 0:e.content)?JSON.parse(e.content):void 0),q(!0)):(F((null===e||void 0===e?void 0:e.content)?JSON.parse(e.content):void 0),W(),q(!0))}(e,t)}}))}catch(i){console.log("error ",i)}},Z=Object(l.useState)(0),$=Object(s.a)(Z,2),_=$[0],ee=$[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"main",style:{marginTop:"10px",marginBottom:"0px"},children:Object(m.jsx)("h3",{className:"main-title",children:"Requests"})}),Object(m.jsx)("div",{className:"row w-full",children:Object(m.jsxs)(j.a,{value:_,onChange:function(e,t){ee(t)},indicatorColor:"primary",style:{backgroundColor:"white",width:"100%"},children:[Object(m.jsx)(b.a,{label:"Requests Received",disableRipple:!0,style:{outline:"none",textTransform:"capitalize"}}),Object(m.jsx)(b.a,{label:"Requests Received History",disableRipple:!0,style:{outline:"none",textTransform:"capitalize"}}),Object(m.jsx)(b.a,{label:"Requests Sent",disableRipple:!0,style:{outline:"none",textTransform:"capitalize"}}),Object(m.jsx)(b.a,{label:"Requests Sent History",disableRipple:!0,style:{outline:"none",textTransform:"capitalize"}})]})}),0===_&&Object(m.jsxs)("div",{children:[!(null===y||void 0===y?void 0:y.some((function(e){var t;return"pending"===(null===(t=e.campusDriveStatus)||void 0===t?void 0:t.toLowerCase())})))&&Object(m.jsx)("p",{className:"text-center",children:"No new requests received!"}),y.map((function(e){var t;if("pending"===(null===e||void 0===e||null===(t=e.campusDriveStatus)||void 0===t?void 0:t.toLowerCase()))return Object(m.jsxs)("div",{className:"row campus-drive-comp d-flex justify-between align-items-center",children:[Object(m.jsxs)("div",{className:"col-md-4 univ-comp d-flex justify-between align-items-center",children:[Object(m.jsx)("div",{className:"univ-icon",children:Object(m.jsx)("i",{className:"fas fa-university"})}),Object(m.jsxs)("div",{className:"univ-info d-flex flex-column justify-center",children:[Object(m.jsx)("p",{className:"univ-title",children:null===e||void 0===e?void 0:e.initiatorName}),Object(m.jsx)("p",{className:"univ-sub-title",children:"has requested you to attend their campus drive"})]})]}),Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("p",{className:"date",children:(null===e||void 0===e?void 0:e.requestedDate)?"Received on "+r()(null===e||void 0===e?void 0:e.requestedDate).format("DD-MM-YYYY, h:mm:ss"):"-"})}),Object(m.jsxs)("div",{className:"col-md-3 d-flex justify-between",children:[Object(m.jsx)("button",{type:"button",onClick:function(){X(null===e||void 0===e?void 0:e.nftID,"PRE-ACCEPT")},className:"btn btn-accept",children:"Accept"}),Object(m.jsx)("button",{type:"button",onClick:function(){X(null===e||void 0===e?void 0:e.nftID,"PRE-REJECT")},className:"btn btn-reject",children:"Reject"})]}),Object(m.jsx)("div",{className:"col-md-1",children:Object(m.jsx)("button",{type:"button",onClick:function(){X(null===e||void 0===e?void 0:e.nftID,"PENDING")},className:"btn btn-view-more",children:"View more info"})})]})}))]}),1===_&&Object(m.jsxs)("div",{children:[!(null===y||void 0===y?void 0:y.some((function(e){var t;return["accepted","rejected"].includes(null===e||void 0===e||null===(t=e.campusDriveStatus)||void 0===t?void 0:t.toLowerCase())})))&&Object(m.jsx)("p",{className:"text-center",children:"No received requests history!"}),y.map((function(e){var t,i,n,s;if("accepted"===(null===e||void 0===e||null===(t=e.campusDriveStatus)||void 0===t?void 0:t.toLowerCase())||"rejected"===(null===e||void 0===e||null===(i=e.campusDriveStatus)||void 0===i?void 0:i.toLowerCase()))return Object(m.jsxs)("div",{className:"row campus-drive-comp d-flex justify-between align-items-center",children:[Object(m.jsxs)("div",{className:"col-md-4 univ-comp d-flex justify-between align-items-center",children:[Object(m.jsx)("div",{className:"univ-icon",children:Object(m.jsx)("i",{className:"fas fa-university"})}),Object(m.jsxs)("div",{className:"univ-info d-flex flex-column justify-center",children:[Object(m.jsx)("p",{className:"univ-title",children:null===e||void 0===e?void 0:e.initiatorName}),Object(m.jsx)("p",{className:"univ-sub-title",children:"has requested you to attend their campus drive"})]})]}),Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("p",{className:"date",children:(null===e||void 0===e?void 0:e.requestedDate)?"Received on "+r()(null===e||void 0===e?void 0:e.requestedDate).format("DD-MM-YYYY, h:mm:ss"):"-"})}),Object(m.jsx)("div",{className:"col-md-3 d-flex justify-between",children:"accepted"===(null===e||void 0===e||null===(n=e.campusDriveStatus)||void 0===n?void 0:n.toLowerCase())?Object(m.jsxs)("button",{type:"button",className:"btn btn-history-accepted",children:[Object(m.jsx)("p",{className:"label",children:"Accepted"}),Object(m.jsx)("p",{className:"subLabel",children:(null===e||void 0===e?void 0:e.responseDate)?" on "+r()(null===e||void 0===e?void 0:e.responseDate).format("DD-MM-YYYY, h:mm:ss"):"-"})]}):Object(m.jsxs)("button",{type:"button",className:"btn btn-history-rejected",children:[Object(m.jsx)("p",{className:"label",children:"Rejected"}),Object(m.jsx)("p",{className:"subLabel",children:(null===e||void 0===e?void 0:e.responseDate)?" on "+r()(null===e||void 0===e?void 0:e.responseDate).format("DD-MM-YYYY, h:mm:ss"):"-"})]})}),Object(m.jsx)("div",{className:"col-md-1",children:"rejected"===(null===e||void 0===e||null===(s=e.campusDriveStatus)||void 0===s?void 0:s.toLowerCase())?Object(m.jsx)("button",{type:"button",onClick:function(){X(null===e||void 0===e?void 0:e.nftID,"REJECTED")},className:"btn btn-view-more",children:"View more info"}):null})]})}))]}),2===_&&Object(m.jsxs)("div",{children:[!(null===C||void 0===C?void 0:C.some((function(e){var t;return"pending"===(null===(t=e.campusDriveStatus)||void 0===t?void 0:t.toLowerCase())})))&&Object(m.jsx)("p",{className:"text-center",children:"No new requests sent!"}),C.map((function(e){var t;if("pending"===(null===e||void 0===e||null===(t=e.campusDriveStatus)||void 0===t?void 0:t.toLowerCase()))return Object(m.jsxs)("div",{className:"row campus-drive-comp d-flex justify-between align-items-center",children:[Object(m.jsxs)("div",{className:"col-md-4 univ-comp d-flex justify-between align-items-center",children:[Object(m.jsx)("div",{className:"univ-icon",children:Object(m.jsx)("i",{className:"fas fa-university"})}),Object(m.jsxs)("div",{className:"univ-info d-flex flex-column justify-center",children:[Object(m.jsx)("p",{className:"univ-title",children:null===e||void 0===e?void 0:e.receiverName}),Object(m.jsx)("p",{className:"univ-sub-title",children:"Your request to attend campus drive has been sent"})]})]}),Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("p",{className:"date",children:(null===e||void 0===e?void 0:e.requestedDate)?"Sent on "+r()(null===e||void 0===e?void 0:e.requestedDate).format("DD-MM-YYYY, h:mm:ss"):"-"})}),Object(m.jsx)("div",{className:"col-md-3 d-flex justify-between"}),Object(m.jsx)("div",{className:"col-md-1",children:Object(m.jsx)("button",{type:"button",onClick:function(){X(null===e||void 0===e?void 0:e.nftID,"REQUEST-SENT")},className:"btn btn-view-more",children:"View more info"})})]})}))]}),3===_&&Object(m.jsxs)("div",{children:[!(null===C||void 0===C?void 0:C.some((function(e){var t;return["accepted","rejected"].includes(null===e||void 0===e||null===(t=e.campusDriveStatus)||void 0===t?void 0:t.toLowerCase())})))&&Object(m.jsx)("p",{className:"text-center",children:"No sent requests history!"}),C.map((function(e){var t,i,n,s;if("accepted"===(null===e||void 0===e||null===(t=e.campusDriveStatus)||void 0===t?void 0:t.toLowerCase())||"rejected"===(null===e||void 0===e||null===(i=e.campusDriveStatus)||void 0===i?void 0:i.toLowerCase()))return Object(m.jsxs)("div",{className:"row campus-drive-comp d-flex justify-between align-items-center",children:[Object(m.jsxs)("div",{className:"col-md-4 univ-comp d-flex justify-between align-items-center",children:[Object(m.jsx)("div",{className:"univ-icon",children:Object(m.jsx)("i",{className:"fas fa-university"})}),Object(m.jsxs)("div",{className:"univ-info d-flex flex-column justify-center",children:[Object(m.jsx)("p",{className:"univ-title",children:null===e||void 0===e?void 0:e.receiverName}),Object(m.jsx)("p",{className:"univ-sub-title",children:"has replied to your requested you to attend their campus drive"})]})]}),Object(m.jsx)("div",{className:"col-md-2",children:Object(m.jsx)("p",{className:"date w-full",children:(null===e||void 0===e?void 0:e.requestedDate)?"Request sent on "+r()(null===e||void 0===e?void 0:e.requestedDate).format("DD-MM-YYYY, h:mm:ss"):"-"})}),Object(m.jsxs)("div",{className:"col-md-3 d-flex justify-content-end align-items-center",children:[Object(m.jsx)("p",{className:"float-right",style:{fontSize:".800rem",marginRight:"12px"},children:"Status:"}),"accepted"===(null===e||void 0===e||null===(n=e.campusDriveStatus)||void 0===n?void 0:n.toLowerCase())?Object(m.jsxs)("button",{type:"button",className:"btn btn-history-accepted",children:[Object(m.jsx)("p",{className:"label",children:"Accepted"}),Object(m.jsx)("p",{className:"subLabel",children:(null===e||void 0===e?void 0:e.requestedDate)?"on "+r()(null===e||void 0===e?void 0:e.responseDate).format("DD-MM-YYYY, h:mm:ss"):"-"})]}):Object(m.jsxs)("button",{type:"button",className:"btn btn-history-rejected",children:[Object(m.jsx)("p",{className:"label",children:"Rejected"}),Object(m.jsx)("p",{className:"subLabel",children:(null===e||void 0===e?void 0:e.requestedDate)?"on "+r()(null===e||void 0===e?void 0:e.responseDate).format("DD-MM-YYYY, h:mm:ss"):"-"})]})]}),"rejected"===(null===e||void 0===e||null===(s=e.campusDriveStatus)||void 0===s?void 0:s.toLowerCase())?Object(m.jsx)("div",{className:"col-md-1",children:Object(m.jsx)("button",{type:"button",onClick:function(){X(null===e||void 0===e?void 0:e.nftID,"REJECTED")},className:"btn btn-view-more",children:"View more info"})}):Object(m.jsx)("div",{className:"col-md-1"})]})}))]}),Y?Object(m.jsx)(u.a,{show:Y,modalStyles:{maxWidth:"".concat("REQUEST-SENT"===J?"70%":"35%")},children:"REQUEST-SENT"===J?Object(m.jsxs)("div",{className:"mail-modal",children:[Object(m.jsxs)("div",{className:"modal-header d-block",children:[Object(m.jsxs)("span",{className:"modal-title",style:{fontSize:"1.1rem",padding:6},children:["Mail sent to ",null===k||void 0===k?void 0:k.publisherName," University requesting Campus Placement Drive"]}),Object(m.jsx)("i",{className:"far fa-times-circle close-icon",onClick:function(){q(!1)},"data-dismiss":"modal"})]}),Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsxs)("div",{className:"card d-none",children:[Object(m.jsx)("span",{className:"control-label",style:{fontSize:"1rem"},children:"From\xa0:"}),Object(m.jsx)("input",{type:"email",name:"emailFrom",style:{fontSize:"1rem"},defaultValue:null===A||void 0===A?void 0:A.emailFrom,readOnly:!0})]}),Object(m.jsxs)("div",{className:"card d-none",children:[Object(m.jsx)("span",{className:"control-label",style:{fontSize:"1rem"},children:"To\xa0:"}),Object(m.jsx)("input",{type:"email",name:"emailTo",style:{fontSize:"1rem"},defaultValue:null===A||void 0===A?void 0:A.emailTo,readOnly:!0})]}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("span",{className:"control-label",style:{fontSize:"1rem"},children:"Subject\xa0:"}),Object(m.jsx)("input",{type:"text",name:"emailSubject",style:{fontSize:"1rem"},defaultValue:null===A||void 0===A?void 0:A.emailSubject,readOnly:!0})]}),Object(m.jsx)("div",{className:"card b-none",children:Object(m.jsx)("textarea",{name:"emailBody",style:{fontSize:".850rem",minWidth:"100%",minHeight:"400px"},defaultValue:null===A||void 0===A?void 0:A.emailBody,rows:5,readOnly:!0})})]})]}):Object(m.jsxs)("div",{className:"notification",style:{width:"100%",paddingBottom:"12px"},children:[Object(m.jsx)("div",{className:"close-notification",style:{cursor:"pointer"},onClick:function(){q(!1),U(),I(),F()},children:Object(m.jsx)("i",{className:"fas fa-times"})}),Object(m.jsxs)("div",{className:"notification-header d-flex justify-content-".concat("rejected"===(null===J||void 0===J?void 0:J.toLowerCase())?"between":"center"," align-items-center"),children:[Object(m.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(m.jsx)("p",{className:"heading",children:"Notification from"}),Object(m.jsxs)("p",{className:"heading",children:[null===A||void 0===A||null===(e=A.universityDetails)||void 0===e?void 0:e.universityName," ","University"]})]}),"rejected"===(null===J||void 0===J?void 0:J.toLowerCase())&&Object(m.jsx)("button",{type:"button",className:"btn status-btn",children:"Rejected"})]}),Object(m.jsxs)("div",{className:"notification-body d-flex flex-column justify-content-center align-items-center",children:[Object(m.jsx)("table",{className:"table table-responsive table-borderless w-full",children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"keyLabel",children:"University Name"}),Object(m.jsxs)("td",{className:"valueLabel",children:[null===A||void 0===A||null===(t=A.universityDetails)||void 0===t?void 0:t.universityName," ","University"]})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"keyLabel",children:"Location"}),Object(m.jsx)("td",{className:"valueLabel",children:null===A||void 0===A||null===(i=A.universityDetails)||void 0===i?void 0:i.location})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"keyLabel",children:"Year of Establishment"}),Object(m.jsx)("td",{className:"valueLabel",children:null===A||void 0===A||null===(d=A.universityDetails)||void 0===d?void 0:d.yearOfEstablishment})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"keyLabel",children:"University ID"}),Object(m.jsx)("td",{className:"valueLabel",children:null===k||void 0===k?void 0:k.senderID})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"keyLabel",children:"Type of Request"}),Object(m.jsx)("td",{className:"valueLabel",children:null===k||void 0===k?void 0:k.notificationType})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"keyLabel",children:"Request made on"}),Object(m.jsx)("td",{className:"valueLabel",children:(null===k||void 0===k?void 0:k.dateofNotification)?r()(null===k||void 0===k?void 0:k.dateofNotification).format("DD-MM-YYYY"):"-"})]})]})}),"rejected"===(null===J||void 0===J?void 0:J.toLowerCase())?Object(m.jsxs)("div",{className:"notification-body-footer inherit w-full",children:[Object(m.jsx)("div",{className:"heading",children:Object(m.jsx)("p",{className:"label",children:"Reason for Rejection"})}),Object(m.jsx)("p",{className:"body",children:null===(p=JSON.parse(null===k||void 0===k?void 0:k.content))||void 0===p||null===(f=p.responseContent)||void 0===f?void 0:f.reasonToReject})]}):"pre-reject"===(null===J||void 0===J?void 0:J.toLowerCase())||"pending"===(null===J||void 0===J?void 0:J.toLowerCase())?Object(m.jsx)(v.a,{name:"reasonForRejection",value:null===H||void 0===H?void 0:H.value,label:"Enter reason for rejection",required:!0,errorMessage:null===H||void 0===H?void 0:H.errorMessage,onChange:function(e,t,i){W((function(e){return Object(n.a)(Object(n.a)({},e),{},{value:t,errorMessage:i})}))},multiline:!0,minRows:6}):null]}),"pending"===(null===J||void 0===J?void 0:J.toLowerCase())||"pre-reject"===(null===J||void 0===J?void 0:J.toLowerCase())||"pre-accept"===(null===J||void 0===J?void 0:J.toLowerCase())?Object(m.jsxs)("div",{className:"notification-footer d-flex justify-content-around align-items-center",children:[Object(m.jsx)("button",{type:"button",className:"btn btn-view-more-info",children:"View more info"}),"pending"===(null===J||void 0===J?void 0:J.toLowerCase())||"pre-accept"===(null===J||void 0===J?void 0:J.toLowerCase())?Object(m.jsx)("button",{type:"button",onClick:function(){K(null===A||void 0===A?void 0:A.campusDriveID,!0,null===k||void 0===k?void 0:k.notificationID)},className:"btn btn-accept",children:"Accept"}):null,"pending"===(null===J||void 0===J?void 0:J.toLowerCase())||"pre-reject"===(null===J||void 0===J?void 0:J.toLowerCase())?Object(m.jsx)("button",{type:"button",disabled:!(null===H||void 0===H?void 0:H.value)||""===(null===H||void 0===H||null===(x=H.value)||void 0===x?void 0:x.trim()),onClick:function(){K(null===A||void 0===A?void 0:A.campusDriveID,!1,null===k||void 0===k?void 0:k.notificationID)},className:"btn btn-reject",children:"Reject"}):null]}):null]})}):null]})}}}]);