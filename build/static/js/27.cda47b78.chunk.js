(this.webpackJsonppgk=this.webpackJsonppgk||[]).push([[27],{254:function(e,r,a){"use strict";a.d(r,"d",(function(){return s})),a.d(r,"b",(function(){return c})),a.d(r,"f",(function(){return d})),a.d(r,"g",(function(){return l})),a.d(r,"i",(function(){return u})),a.d(r,"c",(function(){return v})),a.d(r,"e",(function(){return m})),a.d(r,"a",(function(){return h})),a.d(r,"h",(function(){return p}));var t=a(9),n=a(5),o=a(35),s=function(){return function(e){e({type:o.h,payload:void 0})}},i=function(e){return function(r){r({type:o.a,payload:e})}},c=function(){return function(e){t.a.get("http://restcountries.eu/rest/v2/all?fields=name;flag;callingCodes;").then((function(r){var a=r.data;e({type:o.d,payload:a})})).catch((function(e){var r=JSON.stringify(e);n.a.error(JSON.parse(r).message)}))}},d=function(e,r,a){return function(s){var c;"Corporate"===a?c="/o/signUp/Corporate":"University"===a&&(c="/o/signUp/University");var d=new FormData;for(var l in e)d.append(l,e[l]);s(i(!0)),s({type:o.c,payload:e}),t.a.post(c,d).then((function(e){var a=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(a)),sessionStorage.setItem("steps",3),s({type:o.i,payload:3}),s(i(!1)),n.a.success(a.message),r.push("/register/authentication")})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),s(i(!1))}))}},l=function(e,r,a){return function(a){var s=new FormData;for(var c in e)s.append(c,e[c]);a(i(!0)),a({type:o.c,payload:e}),t.a.post("/o/signUp/Student",s).then((function(e){var t=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(t)),sessionStorage.setItem("steps",3),a({type:o.i,payload:3}),a(i(!1)),n.a.success(t.message),r.push("/register/studentAuthentication")})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),a(i(!1))}))}},u=function(e,r){return function(a){var o=new FormData;for(var s in e)o.append(s,e[s]);a(i(!0)),t.a.post("/o/verifyOTP",o).then((function(e){var t=e.data;a(i(!1)),(null===t||void 0===t?void 0:t.MobileVerified)&&(null===t||void 0===t?void 0:t.emailVerified)?(sessionStorage.clear(),n.a.success(t.message),r.push("/register/completed")):n.a.error("OTP verification failed")})).catch((function(e){var r,t,o;(null===e||void 0===e?void 0:e.response)?n.a.error(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(t=r.data)||void 0===t||null===(o=t.errors[0])||void 0===o?void 0:o.message):n.a.error("Something Wrong!",null===e||void 0===e?void 0:e.message);a(i(!1))}))}},v=function(e){return function(r){var a=new FormData;for(var o in e)a.append(o,e[o]);r(i(!0)),t.a.post("/o/resendOtp",a).then((function(e){var a=e.data;n.a.success(a.message),r(i(!1))})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),r(i(!1))}))}},m=function(e,r){return function(a){sessionStorage.setItem("steps",r),a({type:o.c,payload:e}),a({type:o.i,payload:r})}},h=function(e){return function(r){var a=new FormData;for(var s in e)a.append(s,e[s]);r(i(!0));var c=localStorage.getItem("token"),d={headers:{Authorization:"Bearer ".concat(c)}};t.a.post("/pg/createPayment",a,d).then((function(e){var a=e.data;sessionStorage.setItem("orderID",a.orderID),r({type:o.f,payload:a}),r(i(!1))})).catch((function(e){e.response?n.a.error(e.response.data):n.a.error("Something Wrong!",e.message),r(i(!1))}))}},p=function(e){return function(r){var a=new FormData;a.append("orderID",e);var s=localStorage.getItem("token"),c={headers:{Authorization:"Bearer ".concat(s)}};r(i(!0)),t.a.post("/pg/verifyPayment",a,c).then((function(e){var a,t=e.data;null===t||void 0===t||null===(a=t.messages)||void 0===a||a.forEach((function(e){n.a.success(e)})),r(i(!1)),r({type:o.g,payload:JSON.parse(null===t||void 0===t?void 0:t.referenceObject)})})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),r(i(!1))}))}}},260:function(e,r,a){"use strict";a.d(r,"c",(function(){return o})),a.d(r,"a",(function(){return s})),a.d(r,"b",(function(){return i}));var t=a(84),n=a.n(t),o=function(e){return null==e?"":e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},s=function(e){for(var r in e)if(""!==e[r]&&null!==e[r]&&void 0!==e[r])return!0;return!1},i=function(e,r){if(void 0===e)return!1;if(void 0===r)return!1;var a=n()(e),t=n()(r);return console.log("mStart ",a),console.log("mEnd ",t),console.log("mStart.isSame(mEnd) || mStart.isBefore(mEnd) ",a.isSame(t)||a.isBefore(t)),a.isSame(t)||a.isBefore(t)}},284:function(e,r,a){"use strict";a(1);var t=a(0);r.a=function(e){return Object(t.jsx)("div",{className:"row",children:Object(t.jsx)("div",{className:"col-md-12",children:Object(t.jsxs)("div",{className:"reg-header",children:[Object(t.jsx)("h4",{className:"reg-header-title",children:null===e||void 0===e?void 0:e.title}),Object(t.jsx)("hr",{className:"reg-header-hr"})]})})})}},405:function(e,r,a){"use strict";a.r(r);var t=a(3),n=a.n(t),o=a(95),s=a(86),i=a(10),c=a(30),d=a(1),l=a(24),u=a(85),v=a(284),m=a(0),h=function(e){var r,a,t,n,o,s,i,c,d,l,h,p,y,j,b,g,C,f,O,N,x,P,S,A,L,w,E,D,H;return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,className:"login-form reg-form",children:[e.showError?Object(m.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Please check all inputs"}):null,Object(m.jsx)(v.a,{title:"Primary Contact"}),Object(m.jsx)("div",{className:"row justify-content-center",children:Object(m.jsx)("div",{className:"col-md-11",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"primaryContactFirstName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(r=e.contactPersonnel)||void 0===r?void 0:r.primaryContactFirstName,label:"First Name",errorMessage:null===e||void 0===e||null===(a=e.errors)||void 0===a?void 0:a.primaryContactFirstName,required:!0})})}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"primaryContactMiddleName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(t=e.contactPersonnel)||void 0===t?void 0:t.primaryContactMiddleName,label:"Middle Name",errorMessage:null===e||void 0===e||null===(n=e.errors)||void 0===n?void 0:n.primaryContactMiddleName})})}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"primaryContactLastName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(o=e.contactPersonnel)||void 0===o?void 0:o.primaryContactLastName,label:"Last Name",errorMessage:null===e||void 0===e||null===(s=e.errors)||void 0===s?void 0:s.primaryContactLastName,required:!0})})}),Object(m.jsx)("div",{className:"w-100"}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"primaryContactDesignation",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(i=e.contactPersonnel)||void 0===i?void 0:i.primaryContactDesignation,label:"Designation",errorMessage:null===e||void 0===e||null===(c=e.errors)||void 0===c?void 0:c.primaryContactDesignation,required:!0})})}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{type:"number",name:"primaryContactPhone",onChange:null===e||void 0===e?void 0:e.handleChange,value:(null===e||void 0===e||null===(d=e.contactPersonnel)||void 0===d?void 0:d.primaryContactPhone)?null===e||void 0===e||null===(l=e.contactPersonnel)||void 0===l?void 0:l.primaryContactPhone.toString().replace("+91",""):"",label:"Phone Number",errorMessage:null===e||void 0===e||null===(h=e.errors)||void 0===h?void 0:h.primaryContactPhone,required:!0,validations:["minLength_10","maxLength_10"]})})}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"primaryContactEmail",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(p=e.contactPersonnel)||void 0===p?void 0:p.primaryContactEmail,label:"Email",errorMessage:null===e||void 0===e||null===(y=e.errors)||void 0===y?void 0:y.primaryContactEmail,required:!0,validations:["isEmail"]})})})]})})}),Object(m.jsx)(v.a,{title:"Secondary Contact"}),Object(m.jsx)("div",{className:"row justify-content-center",children:Object(m.jsx)("div",{className:"col-md-11",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"secondaryContactFirstName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(j=e.contactPersonnel)||void 0===j?void 0:j.secondaryContactFirstName,label:"First Name",errorMessage:null===e||void 0===e||null===(b=e.errors)||void 0===b?void 0:b.secondaryContactFirstName,required:!1})})}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"secondaryContactMiddleName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(g=e.contactPersonnel)||void 0===g?void 0:g.secondaryContactMiddleName,label:"Middle Name",errorMessage:null===e||void 0===e||null===(C=e.errors)||void 0===C?void 0:C.secondaryContactMiddleName,required:!1})})}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"secondaryContactLastName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(f=e.contactPersonnel)||void 0===f?void 0:f.secondaryContactLastName,label:"Last Name",errorMessage:null===e||void 0===e||null===(O=e.errors)||void 0===O?void 0:O.secondaryContactLastName,required:!1})})}),Object(m.jsx)("div",{className:"w-100"}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"secondaryContactDesignation",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(N=e.contactPersonnel)||void 0===N?void 0:N.secondaryContactDesignation,label:"Designation",errorMessage:null===e||void 0===e||null===(x=e.errors)||void 0===x?void 0:x.secondaryContactDesignation,required:!1})})}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{type:"number",name:"secondaryContactPhone",onChange:null===e||void 0===e?void 0:e.handleChange,value:(null===e||void 0===e||null===(P=e.contactPersonnel)||void 0===P?void 0:P.secondaryContactPhone)?null===e||void 0===e||null===(S=e.contactPersonnel)||void 0===S||null===(A=S.secondaryContactPhone)||void 0===A?void 0:A.toString().replace("+91",""):"",label:"Phone Number",errorMessage:null===e||void 0===e||null===(L=e.errors)||void 0===L?void 0:L.secondaryContactPhone,required:!1,validations:["minLength_10","maxLength_10"]})})}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{name:"secondaryContactEmail",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(w=e.contactPersonnel)||void 0===w?void 0:w.secondaryContactEmail,label:"Email",errorMessage:null===e||void 0===e||null===(E=e.errors)||void 0===E?void 0:E.secondaryContactEmail,required:!1,validations:["isEmail"]})})})]})})}),Object(m.jsx)(v.a,{title:"Password"}),Object(m.jsx)("div",{className:"row justify-content-center",children:Object(m.jsx)("div",{className:"col-md-11",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{type:"password",name:"password",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(D=e.contactPersonnel)||void 0===D?void 0:D.password,label:"Password (min 8)",errorMessage:null===e||void 0===e||null===(H=e.errors)||void 0===H?void 0:H.password,required:!0,validations:["minLength_8"]})})}),Object(m.jsx)("div",{className:"col-md",children:Object(m.jsx)("div",{className:"mb-15",children:Object(m.jsx)(u.a,{type:"password",name:"repeatPassword",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e?void 0:e.repeatPassword,label:"Repeat the password",errorMessage:null===e||void 0===e?void 0:e.repeatPasswordErr,validations:["minLength_8",function(r){return function(r){var a;if((null===e||void 0===e||null===(a=e.contactPersonnel)||void 0===a?void 0:a.password)!==r)return"Password does not match"}(r)}],required:!0})})})]})})}),Object(m.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[Object(m.jsx)("button",{type:"button",className:"reg-btn",onClick:function(){e.history.push("/register/CorporateSecondary")},children:"Previous"}),Object(m.jsx)("button",{type:"submit",className:"reg-btn",disabled:e.isBtnDisabled,children:"Next"})]})]})},p=a(254),y=a(260);r.default=function(e){var r={primaryContactFirstName:"",primaryContactMiddleName:"",primaryContactLastName:"",primaryContactDesignation:"",primaryContactPhone:"",primaryContactEmail:"",secondaryContactFirstName:"",secondaryContactMiddleName:"",secondaryContactLastName:"",secondaryContactDesignation:"",secondaryContactPhone:"",secondaryContactEmail:"",password:""},a=r,t={corporateName:"",CIN:"",corporateType:"",corporateCategory:"",corporateIndustry:"",attachment:"",yearOfEstablishment:""},u={corporateHQAddressLine1:"",corporateHQAddressLine2:"",corporateHQAddressCountry:"",corporateHQAddressState:"",corporateHQAddressCity:"",corporateHQAddressDistrict:"",corporateHQAddressZipCode:"",corporateHQAddressPhone:"",corporateHQAddressEmail:"",companyProfile:""},v=Object(d.useState)(r),j=Object(c.a)(v,2),b=j[0],g=j[1],C=Object(d.useState)(""),f=Object(c.a)(C,2),O=f[0],N=f[1],x=Object(d.useState)(""),P=Object(c.a)(x,2),S=P[0],A=P[1],L=Object(d.useState)(a),w=Object(c.a)(L,2),E=w[0],D=w[1],H=Object(d.useState)(!1),Q=Object(c.a)(H,2),B=Q[0],M=Q[1],F=Object(d.useState)(),k=Object(c.a)(F,2),I=k[0],q=k[1],W=Object(l.b)((function(e){return e.CorporateReducer.corporatePrimaryState})),J=(Object(l.b)((function(e){return e.CorporateReducer.apiStatus})),Object(l.a)());Object(d.useEffect)((function(){var a=!1,n=!1;for(var o in W)for(var s in t)o===s&&(""===W[o]&&null===W[o]&&void 0===W[o]||(a=!0));for(var i in W)for(var c in u)i===c&&(""===W[i]&&null===W[i]&&void 0===W[i]||(n=!0));if(!a)return sessionStorage.clear(),e.history.push("/register");if(!n)return sessionStorage.clear(),e.history.push("/register/corporateSecondary");var d=!!(W&&Object.keys(W).length>7);if(W&&d){var l=W,v={};Object.keys(l).map((function(e){for(var a in r)e===a&&(v[a]=l[a])})),g(v)}}),[]),Object(d.useEffect)((function(){var e=Object(y.a)(E);M(e),I&&setTimeout((function(){q(!1)}),2e3)}),[E,I]);var U=function(e){var r;if(void 0!==e||null!==e&&""!==e.toString().trim())for(;e.toString().startsWith("+91");)e=e.toString().replace("+91","");return null===(r=e)||void 0===r?void 0:r.toString()},_=function(){var r=Object(o.a)(n.a.mark((function r(a){var t,o,s,c,d,l,u,v,m;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),t=localStorage.getItem("type"),o=b.primaryContactFirstName,s=b.primaryContactLastName,c=b.primaryContactDesignation,d=b.primaryContactPhone,l=b.primaryContactEmail,u=b.password,!(o&&s&&c&&d&&l&&u===O)){r.next=30;break}if((v=Object(i.a)(Object(i.a)({},W),b)).corporateHQAddressPhone="+91"+U(null===W||void 0===W?void 0:W.corporateHQAddressPhone),v.corporateLocalBranchAddressPhone=(null===W||void 0===W?void 0:W.corporateLocalBranchAddressPhone)?"+91"+U(null===W||void 0===W?void 0:W.corporateLocalBranchAddressPhone):"",v.stakeholder=t,v.primaryContactPhone="+91"+U(null===b||void 0===b?void 0:b.primaryContactPhone),v.secondaryContactPhone=(null===b||void 0===b?void 0:b.secondaryContactPhone)?"+91"+U(null===b||void 0===b?void 0:b.secondaryContactPhone):"",delete v.countryCode,delete v.countryCode2,delete v.attachment2,delete v.referral,"Corporate"!==t){r.next=22;break}return r.next=17,J(Object(p.e)(b,3));case 17:return r.next=19,J(Object(p.f)(v,e.history,t));case 19:q(!1),r.next=28;break;case 22:if("University"!==t){r.next=28;break}return m={universityName:v.corporateName,universityHQAddressLine1:v.corporateHQAddressLine1,universityHQAddressLine2:v.corporateHQAddressLine2,universityHQAddressLine3:"",universityHQAddressCountry:v.corporateHQAddressCountry,universityHQAddressState:v.corporateHQAddressState,universityHQAddressCity:v.corporateHQAddressCity,universityHQAddressDistrict:v.corporateHQAddressDistrict,universityHQAddressZipcode:v.corporateHQAddressZipCode,universityHQAddressPhone:v.corporateHQAddressPhone,universityHQAddressemail:v.corporateHQAddressEmail,universityLocalBranchAddressLine1:v.corporateLocalBranchAddressLine1,universityLocalBranchAddressLine2:v.corporateLocalBranchAddressLine2,universityLocalBranchAddressLine3:"",universityLocalBranchAddressCountry:v.corporateLocalBranchAddressCountry,universityLocalBranchAddressState:v.corporateLocalBranchAddressState,universityLocalBranchAddressCity:v.corporateLocalBranchAddressCity,universityLocalBranchAddressDistrict:v.corporateLocalBranchAddressDistrict,universityLocalBranchAddressZipcode:v.corporateLocalBranchAddressZipCode,universityLocalBranchAddressPhone:v.corporateLocalBranchAddressPhone,universityLocalBranchAddressemail:v.corporateLocalBranchAddressEmail,primaryContactFirstName:v.primaryContactFirstName,primaryContactMiddleName:v.primaryContactMiddleName,primaryContactLastName:v.primaryContactLastName,primaryContactDesignation:v.primaryContactDesignation,primaryContactPhone:v.primaryContactPhone,primaryContactEmail:v.primaryContactEmail,secondaryContactFirstName:v.secondaryContactFirstName,secondaryContactMiddleName:v.secondaryContactMiddleName,secondaryContactLastName:v.secondaryContactLastName,secondaryContactDesignation:v.secondaryContactDesignation,secondaryContactPhone:v.secondaryContactPhone,secondaryContactEmail:v.secondaryContactEmail,universitySector:v.corporateIndustry,yearOfEstablishment:v.yearOfEstablishment,universityProfile:v.companyProfile,attachment:v.attachment,password:v.password},r.next=26,J(Object(p.e)(m,3));case 26:return r.next=28,J(Object(p.f)(m,e.history,t));case 28:r.next=31;break;case 30:q(!0);case 31:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(m.jsx)(h,{history:e.history,errors:E,showError:I,isBtnDisabled:B,repeatPasswordErr:S,repeatPassword:O,contactPersonnel:b,handleChange:function(e,r,a){if(["primaryContactPhone","secondaryContactPhone"].includes(e))for(;r.toString().startsWith("+91");)r=r.replace("+91","");"repeatPassword"!==e?(g((function(a){return Object(i.a)(Object(i.a)({},a),{},Object(s.a)({},e,r))})),D((function(r){return Object(i.a)(Object(i.a)({},r),{},Object(s.a)({},e,a))}))):(N(r),A(a))},handleSubmit:_})}}}]);