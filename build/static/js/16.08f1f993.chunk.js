(this.webpackJsonppgk=this.webpackJsonppgk||[]).push([[16],{105:function(e,r,a){"use strict";function t(e,r,a,t,n,s,o){try{var c=e[s](o),i=c.value}catch(l){return void a(l)}c.done?r(i):Promise.resolve(i).then(t,n)}function n(e){return function(){var r=this,a=arguments;return new Promise((function(n,s){var o=e.apply(r,a);function c(e){t(o,n,s,c,i,"next",e)}function i(e){t(o,n,s,c,i,"throw",e)}c(void 0)}))}}a.d(r,"a",(function(){return n}))},134:function(e,r,a){"use strict";a.r(r);var t=a(4),n=a.n(t),s=a(105),o=a(39),c=a(9),i=a(24),l=a(1),d=a(23),u=a(5),p=a(0),m=function(e){var r=e.history,a=e.errors,t=e.contactPersonnel,n=e.handlerChange,s=e.handleSubmit,o=a.emailErr,c=a.email2Err,i=a.passwordErr,l=a.lnameErr,d=a.fnameErr,u=a.designationErr,m=a.repeatPasswordErr,j=a.mobileErr,h=a.mobile2Err;return Object(p.jsx)("form",{onSubmit:s,className:"login-form reg-form",children:Object(p.jsx)("div",{className:"row justify-content-center",children:Object(p.jsxs)("div",{className:"col-md-10",children:[Object(p.jsxs)("div",{className:"reg-header",children:[Object(p.jsx)("i",{className:"far fa-user"}),"Primary Contact"]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-4 pr-1",children:Object(p.jsxs)("div",{className:"login-grp",children:[Object(p.jsx)("input",{type:"text",name:"primaryContactFirstName",onChange:n,defaultValue:t.primaryContactFirstName,className:"login-inp".concat(d?" login-inp-error":""),placeholder:"First Name",autoFocus:!0,required:!0}),d?Object(p.jsx)("p",{className:"inp-errors",children:d}):null]})}),Object(p.jsx)("div",{className:"col-md-4 px-1",children:Object(p.jsx)("div",{className:"login-grp",children:Object(p.jsx)("input",{type:"text",name:"primaryContactMiddleName",onChange:n,defaultValue:t.primaryContactMiddleName,className:"login-inp",placeholder:"Middle Name",required:!1})})}),Object(p.jsx)("div",{className:"col-md-4 pl-1",children:Object(p.jsxs)("div",{className:"login-grp",children:[Object(p.jsx)("input",{type:"text",name:"primaryContactLastName",onChange:n,defaultValue:t.primaryContactLastName,className:"login-inp".concat(l?" login-inp-error":""),placeholder:"Last Name",required:!0}),l?Object(p.jsx)("p",{className:"inp-errors",children:l}):null]})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-4 pr-1",children:Object(p.jsxs)("div",{className:"login-grp",children:[Object(p.jsx)("input",{type:"text",name:"primaryContactDesignation",onChange:n,defaultValue:t.primaryContactDesignation,className:"login-inp".concat(u?" login-inp-error":""),placeholder:"Designation",required:!0}),u?Object(p.jsx)("p",{className:"inp-errors",children:u}):null]})}),Object(p.jsx)("div",{className:"col-md-4 px-1",children:Object(p.jsxs)("div",{className:"login-grp",children:[Object(p.jsx)("input",{type:"tel",name:"primaryContactPhone",onChange:n,defaultValue:t.primaryContactPhone,className:"login-inp".concat(j?" login-inp-error":""),placeholder:"Phone Number",required:!0}),j?Object(p.jsx)("p",{className:"inp-errors",children:j}):null]})}),Object(p.jsx)("div",{className:"col-md-4 pl-1",children:Object(p.jsxs)("div",{className:"login-grp",children:[Object(p.jsx)("input",{type:"email",name:"primaryContactEmail",onChange:n,defaultValue:t.primaryContactEmail,className:"login-inp".concat(o?" login-inp-error":""),placeholder:"Email",required:!0}),o?Object(p.jsx)("p",{className:"inp-errors",children:o}):null]})})]}),Object(p.jsxs)("div",{className:"reg-header",children:[Object(p.jsx)("i",{className:"far fa-user"}),"Secondary Contact"]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-4 pr-1",children:Object(p.jsx)("div",{className:"login-grp",children:Object(p.jsx)("input",{type:"text",name:"secondaryContactFirstName",onChange:n,defaultValue:t.secondaryContactFirstName,className:"login-inp",placeholder:"First Name",required:!1})})}),Object(p.jsx)("div",{className:"col-md-4 px-1",children:Object(p.jsx)("div",{className:"login-grp",children:Object(p.jsx)("input",{type:"text",name:"secondaryContactMiddleName",onChange:n,defaultValue:t.secondaryContactMiddleName,className:"login-inp",placeholder:"Middle Name",required:!1})})}),Object(p.jsx)("div",{className:"col-md-4 pl-1",children:Object(p.jsx)("div",{className:"login-grp",children:Object(p.jsx)("input",{type:"text",name:"secondaryContactLastName",onChange:n,defaultValue:t.secondaryContactLastName,className:"login-inp",placeholder:"Last Name",required:!1})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-4 pr-1",children:Object(p.jsx)("div",{className:"login-grp",children:Object(p.jsx)("input",{type:"text",name:"secondaryContactDesignation",onChange:n,defaultValue:t.secondaryContactDesignation,className:"login-inp",placeholder:"Designation",required:!1})})}),Object(p.jsx)("div",{className:"col-md-4 px-1",children:Object(p.jsxs)("div",{className:"login-grp",children:[Object(p.jsx)("input",{type:"tel",name:"secondaryContactPhone",onChange:n,defaultValue:t.secondaryContactPhone,className:"login-inp".concat(h?" login-inp-error":""),placeholder:"Phone Number",required:!1}),h?Object(p.jsx)("p",{className:"inp-errors",children:h}):null]})}),Object(p.jsx)("div",{className:"col-md-4 pl-1",children:Object(p.jsxs)("div",{className:"login-grp",children:[Object(p.jsx)("input",{type:"email",name:"secondaryContactEmail",onChange:n,defaultValue:t.secondaryContactEmail,className:"login-inp".concat(c?" login-inp-error":""),placeholder:"Email",required:!1}),c?Object(p.jsx)("p",{className:"inp-errors",children:c}):null]})})]}),Object(p.jsxs)("div",{className:"reg-header",children:[Object(p.jsx)("i",{className:"fas fa-unlock-alt"}),"Password"]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-6 pr-1",children:Object(p.jsxs)("div",{className:"login-grp",children:[Object(p.jsx)("input",{type:"password",name:"password",onChange:n,defaultValue:t.password,className:"login-inp".concat(i?" login-inp-error":""),placeholder:"Choose your login password (Min 8 digits)",required:!0}),i?Object(p.jsx)("p",{className:"inp-errors",children:i}):null]})}),Object(p.jsx)("div",{className:"col-md-6 pl-1",children:Object(p.jsxs)("div",{className:"login-grp",children:[Object(p.jsx)("input",{type:"password",name:"repeatPassword",onChange:n,className:"login-inp".concat(m?" login-inp-error":""),placeholder:"Repeat the password",required:!0}),m?Object(p.jsx)("p",{className:"inp-errors",children:m}):null]})})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[Object(p.jsx)("button",{type:"button",className:"reg-btn",onClick:function(){r.push("/register/CorporateSecondary")},children:"Previous"}),Object(p.jsx)("button",{type:"submit",className:"reg-btn",children:"Next"})]})]})})})},j=a(97);r.default=function(e){var r={primaryContactFirstName:"",primaryContactMiddleName:"",primaryContactLastName:"",primaryContactDesignation:"",primaryContactPhone:"",primaryContactEmail:"",secondaryContactFirstName:"",secondaryContactMiddleName:"",secondaryContactLastName:"",secondaryContactDesignation:"",secondaryContactPhone:"",secondaryContactEmail:"",password:""},a=Object(l.useState)(r),t=Object(i.a)(a,2),h=t[0],y=t[1],g=Object(l.useState)(""),b=Object(i.a)(g,2),f=b[0],v=b[1],O=Object(l.useState)({emailErr:"",email2Err:"",passwordErr:"",lnameErr:"",fnameErr:"",designationErr:"",repeatPasswordErr:"",mobileErr:"",mobile2Err:""}),N=Object(i.a)(O,2),C=N[0],x=N[1],E=Object(d.b)((function(e){return e.CorporateReducer.corporatePrimaryState})),w=(Object(d.b)((function(e){return e.CorporateReducer.apiStatus})),Object(d.a)());Object(l.useEffect)((function(){E&&Object.keys(r).map((function(e){var r=function(r){e===r&&y((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(o.a)({},r,E[r]))}))};for(var a in E)r(a)}))}),[]);var L=function(){var r=Object(s.a)(n.a.mark((function r(a){var t,s,o,c,i,l,d,p,m,y,g,b,v,O,N;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),t=localStorage.getItem("type"),s=C.emailErr,C.email2Err,o=C.passwordErr,c=C.lnameErr,i=C.fnameErr,l=C.designationErr,C.repeatPasswordErr,d=C.mobileErr,C.mobile2Err,p=h.primaryContactFirstName,m=h.primaryContactLastName,y=h.primaryContactDesignation,g=h.primaryContactPhone,b=h.primaryContactEmail,v=h.password,O=Object.assign(E,h),!(p&&m&&y&&g&&b)||s||o||c||i||l||d||v!==f){r.next=21;break}if("Corporate"!==t){r.next=13;break}return r.next=9,w(Object(j.f)(h,3));case 9:return r.next=11,w(Object(j.g)(O,e.history,t));case 11:r.next=19;break;case 13:if("University"!==t){r.next=19;break}return N={universityName:O.corporateName,universityHQAddressLine1:O.corporateHQAddressLine1,universityHQAddressLine2:O.corporateHQAddressLine2,universityHQAddressLine3:"",universityHQAddressCountry:O.corporateHQAddressCountry,universityHQAddressState:O.corporateHQAddressState,universityHQAddressCity:O.corporateHQAddressCity,universityHQAddressDistrict:O.corporateHQAddressDistrict,universityHQAddressZipcode:O.corporateHQAddressZipCode,universityHQAddressPhone:O.corporateHQAddressPhone,universityHQAddressemail:O.corporateHQAddressEmail,universityLocalBranchAddressLine1:O.corporateLocalBranchAddressLine1,universityLocalBranchAddressLine2:O.corporateLocalBranchAddressLine2,universityLocalBranchAddressLine3:"",universityLocalBranchAddressCountry:O.corporateLocalBranchAddressCountry,universityLocalBranchAddressState:O.corporateLocalBranchAddressState,universityLocalBranchAddressCity:O.corporateLocalBranchAddressCity,universityLocalBranchAddressDistrict:O.corporateLocalBranchAddressDistrict,universityLocalBranchAddressZipcode:O.corporateLocalBranchAddressZipCode,universityLocalBranchAddressPhone:O.corporateLocalBranchAddressPhone,universityLocalBranchAddressemail:O.corporateLocalBranchAddressEmail,primaryContactFirstName:O.primaryContactFirstName,primaryContactMiddleName:O.primaryContactMiddleName,primaryContactLastName:O.primaryContactLastName,primaryContactDesignation:O.primaryContactDesignation,primaryContactPhone:O.primaryContactPhone,primaryContactEmail:O.primaryContactEmail,secondaryContactFirstName:O.secondaryContactFirstName,secondaryContactMiddleName:O.secondaryContactMiddleName,secondaryContactLastName:O.secondaryContactLastName,secondaryContactDesignation:O.secondaryContactDesignation,secondaryContactPhone:O.secondaryContactPhone,secondaryContactEmail:O.secondaryContactEmail,universitySector:O.corporateIndustry,yearOfEstablishment:O.yearOfEstablishment,universityProfile:O.companyProfile,attachment:O.attachment,password:O.password},r.next=17,w(Object(j.f)(N,3));case 17:return r.next=19,w(Object(j.g)(N,e.history,t));case 19:r.next=22;break;case 21:u.a.error("Please enter required input fields");case 22:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(p.jsx)(m,{history:e.history,errors:C,contactPersonnel:h,handlerChange:function(e){var r=e.target,a=r.name,t=r.value;switch("repeatPassword"===a?v(t):y((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(o.a)({},a,t))})),a){case"primaryContactEmail":var n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return void(t&&n.test(t)?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{emailErr:""})})):t&&n.test(t)||x((function(e){return Object(c.a)(Object(c.a)({},e),{},{emailErr:"Email error"})})));case"secondaryContactEmail":var s=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return void(t&&s.test(t)?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{email2Err:""})})):t&&s.test(t)||x((function(e){return Object(c.a)(Object(c.a)({},e),{},{email2Err:"Email error"})})));case"primaryContactLastName":return void(t?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{lnameErr:""})})):t||x((function(e){return Object(c.a)(Object(c.a)({},e),{},{lnameErr:"Last name error"})})));case"primaryContactFirstName":return void(t?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{fnameErr:""})})):t||x((function(e){return Object(c.a)(Object(c.a)({},e),{},{fnameErr:"First name error"})})));case"primaryContactDesignation":return void(t?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{designationErr:""})})):t||x((function(e){return Object(c.a)(Object(c.a)({},e),{},{designationErr:"primaryContactDesignation error"})})));case"primaryContactPhone":return void(/^[+-]?[0-9\b]+$/.test(t)&&t.length>=13?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{mobileErr:""})})):x((function(e){return Object(c.a)(Object(c.a)({},e),{},{mobileErr:"Invalid"})})));case"secondaryContactPhone":return void(/^[+-]?[0-9\b]+$/.test(t)&&t.length>=13?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{mobile2Err:""})})):x((function(e){return Object(c.a)(Object(c.a)({},e),{},{mobile2Err:"Invalid"})})));case"password":return void(t&&t.length>=8?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{passwordErr:""})})):x((function(e){return Object(c.a)(Object(c.a)({},e),{},{passwordErr:"Password error"})})));case"repeatPassword":return void(t===h.password?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{repeatPasswordErr:""})})):x((function(e){return Object(c.a)(Object(c.a)({},e),{},{repeatPasswordErr:"Password does not match"})})))}},handleSubmit:L})}},97:function(e,r,a){"use strict";a.d(r,"e",(function(){return o})),a.d(r,"c",(function(){return i})),a.d(r,"g",(function(){return l})),a.d(r,"h",(function(){return d})),a.d(r,"j",(function(){return u})),a.d(r,"d",(function(){return p})),a.d(r,"b",(function(){return m})),a.d(r,"f",(function(){return j})),a.d(r,"a",(function(){return h})),a.d(r,"i",(function(){return y}));var t=a(10),n=a(5),s=a(21),o=function(){return function(e){e({type:s.h,payload:void 0})}},c=function(e){return function(r){r({type:s.a,payload:e})}},i=function(){return function(e){t.a.get("http://restcountries.eu/rest/v2/all?fields=name;flag;callingCodes;").then((function(r){var a=r.data;e({type:s.d,payload:a})})).catch((function(e){var r=JSON.stringify(e);n.a.error(JSON.parse(r).message)}))}},l=function(e,r,a){return function(o){var i;"Corporate"===a?i="/o/signUp/Corporate":"University"===a&&(i="/o/signUp/University");var l=new FormData;for(var d in e)l.append(d,e[d]);o(c(!0)),o({type:s.c,payload:e}),t.a.post(i,l).then((function(e){var a=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(a)),localStorage.setItem("steps",3),o({type:s.i,payload:3}),o(c(!1)),n.a.success(a.message),r.push("/register/authentication")})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),o(c(!1))}))}},d=function(e,r,a){return function(a){var o=new FormData;for(var i in e)o.append(i,e[i]);a(c(!0)),a({type:s.c,payload:e}),t.a.post("/o/signUp/Student",o).then((function(e){var t=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(t)),localStorage.setItem("steps",3),a({type:s.i,payload:3}),a(c(!1)),n.a.success(t.message),r.push("/register/studentAuthentication")})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),a(c(!1))}))}},u=function(e,r,a){return function(r){var s=new FormData;for(var o in e)s.append(o,e[o]);r(c(!0)),t.a.post("/o/verifyOTP",s).then((function(e){var t=e.data;r(c(!1)),(null===t||void 0===t?void 0:t.MobileVerified)&&(null===t||void 0===t?void 0:t.emailVerified)?(n.a.success("OTP verification successful"),a.push("/register/completed")):n.a.error("OTP verification failed")})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),r(c(!1))}))}},p=function(e){return function(r){var a=new FormData;for(var s in e)a.append(s,e[s]);r(c(!0)),t.a.post("/o/resendOtp",a).then((function(e){var a=e.data;n.a.success(a.message),r(c(!1))})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),r(c(!1))}))}},m=function(e){return function(r){var a;"Corporate"===e?a="/u/lut/?lutList=corporateType&lutList=corporateCategory&lutList=corporateIndustry":"University"===e&&(a="/u/lut/?lutList=universityCategory"),t.a.get(a).then((function(e){var a=e.data;r({type:s.b,payload:a})})).catch((function(e){var r=JSON.stringify(e);n.a.error(JSON.parse(r).message)}))}},j=function(e,r){return function(a){localStorage.setItem("steps",r),a({type:s.c,payload:e}),a({type:s.i,payload:r})}},h=function(e){return function(r){var a=new FormData;for(var o in e)a.append(o,e[o]);r(c(!0));var i=localStorage.getItem("token"),l={headers:{Authorization:"Bearer ".concat(i)}};t.a.post("/pg/createPayment",a,l).then((function(e){var a=e.data;sessionStorage.setItem("orderID",a.orderID),r({type:s.f,payload:a}),r(c(!1))})).catch((function(e){e.response?n.a.error(e.response.data):n.a.error("Something Wrong!",e.message),r(c(!1))}))}},y=function(e){return function(r){var a=new FormData;a.append("orderID",e);var o=localStorage.getItem("token"),i={headers:{Authorization:"Bearer ".concat(o)}};r(c(!0)),t.a.post("/pg/verifyPayment",a,i).then((function(e){var a,t=e.data;null===t||void 0===t||null===(a=t.messages)||void 0===a||a.forEach((function(e){n.a.success(e)})),r(c(!1)),r({type:s.g,payload:JSON.parse(null===t||void 0===t?void 0:t.referenceObject)})})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),r(c(!1))}))}}}}]);