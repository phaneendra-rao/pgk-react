(this.webpackJsonppgk=this.webpackJsonppgk||[]).push([[39],{218:function(e,a,i){"use strict";i.r(a);var t=i(49),o=i(8),l=i(26),n=i(1),d=i(19),c=i(166),r=i(167),s=i(168),v=i(0),p=function(e){var a,i,t,o,l,n,d,c,r,s,p,u;return Object(v.jsxs)("div",{className:"profile-box",children:[Object(v.jsx)("aside",{className:"profile-side",children:Object(v.jsx)("h3",{className:"profile-side-title",children:"Account Settings"})}),Object(v.jsxs)("div",{className:"profile-data",children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-md-12",children:Object(v.jsx)("h6",{className:"d-profile-name",children:"Primary Contact"})})}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsxs)("div",{className:"d-grp",children:[Object(v.jsx)("input",{type:"text",name:"primaryContactFirstName",onChange:null===e||void 0===e?void 0:e.onChange,value:(null===e||void 0===e||null===(a=e.profileData)||void 0===a?void 0:a.primaryContactFirstName)?null===e||void 0===e||null===(i=e.profileData)||void 0===i?void 0:i.primaryContactFirstName:"",readOnly:void 0!==(null===e||void 0===e?void 0:e.disable)&&(null===e||void 0===e?void 0:e.disable),className:"d-inp",required:!0}),Object(v.jsx)("label",{className:"inp-caption",children:"First Name"})]})}),Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsxs)("div",{className:"d-grp",children:[Object(v.jsx)("input",{type:"text",name:"primaryContactMiddleName",onChange:null===e||void 0===e?void 0:e.onChange,value:(null===e||void 0===e||null===(t=e.profileData)||void 0===t?void 0:t.primaryContactMiddleName)?null===e||void 0===e||null===(o=e.profileData)||void 0===o?void 0:o.primaryContactMiddleName:"",readOnly:void 0!==(null===e||void 0===e?void 0:e.disable)&&(null===e||void 0===e?void 0:e.disable),className:"d-inp",required:!0}),Object(v.jsx)("label",{className:"inp-caption",children:"Middle Name"})]})}),Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsxs)("div",{className:"d-grp",children:[Object(v.jsx)("input",{type:"text",name:"primaryContactLastName",onChange:null===e||void 0===e?void 0:e.onChange,value:(null===e||void 0===e||null===(l=e.profileData)||void 0===l?void 0:l.primaryContactLastName)?null===e||void 0===e||null===(n=e.profileData)||void 0===n?void 0:n.primaryContactLastName:"",readOnly:void 0!==(null===e||void 0===e?void 0:e.disable)&&(null===e||void 0===e?void 0:e.disable),className:"d-inp",required:!0}),Object(v.jsx)("label",{className:"inp-caption",children:"Last Name"})]})}),Object(v.jsx)("div",{className:"w-100"}),Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsxs)("div",{className:"d-grp",children:[Object(v.jsx)("input",{type:"text",name:"primaryContactDesignation",onChange:null===e||void 0===e?void 0:e.onChange,value:(null===e||void 0===e||null===(d=e.profileData)||void 0===d?void 0:d.primaryContactDesignation)?null===e||void 0===e||null===(c=e.profileData)||void 0===c?void 0:c.primaryContactDesignation:"",readOnly:void 0!==(null===e||void 0===e?void 0:e.disable)&&(null===e||void 0===e?void 0:e.disable),className:"d-inp",required:!0}),Object(v.jsx)("label",{className:"inp-caption",children:"Designation"})]})}),Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsxs)("div",{className:"d-grp",children:[Object(v.jsx)("input",{type:"text",name:"primaryContactPhone",maxLength:12,minLength:12,onChange:null===e||void 0===e?void 0:e.onChange,value:(null===e||void 0===e||null===(r=e.profileData)||void 0===r?void 0:r.primaryContactPhone)?parseInt(null===e||void 0===e||null===(s=e.profileData)||void 0===s?void 0:s.primaryContactPhone):"",readOnly:void 0!==(null===e||void 0===e?void 0:e.disable)&&(null===e||void 0===e?void 0:e.disable),className:"d-inp input-number",required:!0}),Object(v.jsx)("label",{className:"inp-caption",children:"Mobile Number"})]})}),Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsxs)("div",{className:"d-grp",children:[Object(v.jsx)("input",{type:"email",name:"primaryContactEmail",onChange:null===e||void 0===e?void 0:e.onChange,value:(null===e||void 0===e||null===(p=e.profileData)||void 0===p?void 0:p.primaryContactEmail)?null===e||void 0===e||null===(u=e.profileData)||void 0===u?void 0:u.primaryContactEmail:"",readOnly:void 0!==(null===e||void 0===e?void 0:e.disable)&&(null===e||void 0===e?void 0:e.disable),className:"d-inp",required:!0}),Object(v.jsx)("label",{className:"inp-caption",children:"Email"})]})})]})]})]})},u=i(48),m=i.n(u),j=i(154),b=i(28);a.default=function(){var e=Object(n.useState)({}),a=Object(l.a)(e,2),i=a[0],u=a[1],h=Object(n.useState)(!1),O=Object(l.a)(h,2),f=O[0],g=O[1],x=Object(n.useState)(!1),N=Object(l.a)(x,2),C=N[0],y=N[1],A=Object(n.useState)(),D=Object(l.a)(A,2),L=D[0],H=D[1],Q=Object(n.useState)({attachment:void 0,attachmentName:void 0}),P=Object(l.a)(Q,2),k=P[0],w=P[1],S=Object(n.useState)(!1),B=Object(l.a)(S,2),E=B[0],q=B[1],F=Object(d.a)(),J=Object(d.b)((function(e){return e.DashboardReducer.profileInfo}));Object(n.useEffect)((function(){H(null===J||void 0===J?void 0:J.profilePicture),w({attachment:null===J||void 0===J?void 0:J.attachment,attachmentName:null===J||void 0===J?void 0:J.attachmentName}),u(Object(o.a)(Object(o.a)({},J),{},{profilePicture:void 0,attachment:void 0}))}),[J]);var M=function(e){var a=e.target,i=a.name,l=a.value;["yearOfEstablishment","corporateHQAddressZipCode","corporateLocalBranchAddressZipCode"].includes(i)&&(l=l.replace(/[^0-9.]/g,"")),u((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(t.a)({},i,l))}))},I=function(e){e.preventDefault();var a=e.target.name;console.log("event.target.files ",e.target.files),e.target.files&&u((function(i){return Object(o.a)(Object(o.a)({},i),{},Object(t.a)({},a,e.target.files[0]))}));for(var i=e.target.files.length,l=0;l<i;l++){var n=new FileReader;n.onload=function(i){if("profilePicture"===a)H(i.target.result.split(",")[1]);else if("attachment"===a){var t,o;w({attachment:i.target.result.split(",")[1],attachmentName:(null===e||void 0===e||null===(t=e.target)||void 0===t||null===(o=t.files[0])||void 0===o?void 0:o.name)?e.target.files[0].name:"-"})}},n.readAsDataURL(e.target.files[l])}};return Object(v.jsxs)("div",{className:"main",style:{marginTop:0},children:[Object(v.jsx)("h3",{className:"main-title",children:"Corporate Profile"}),Object(v.jsxs)("div",{className:"profile-pic",children:[Object(v.jsx)("img",{src:L?"data:image/png;base64,"+L:"../../../images/logo.png",className:"profile-pic-img",alt:"no img"}),Object(v.jsxs)("div",{className:"upload-pic",children:[Object(v.jsxs)("label",{htmlFor:"profile",children:["Click to ",Object(v.jsx)("br",{})," Change your ",Object(v.jsx)("br",{})," Logo"]}),Object(v.jsx)("input",{type:"file",name:"profilePicture",onChange:I,id:"profile",accept:"image/*",className:"upload-pic-inp"})]})]}),Object(v.jsx)("div",{className:"d-flex welcome-widget flex-row justify-content-end align-items-center",style:{backgroundColor:"transparent",border:"none",padding:0},children:Object(v.jsxs)("div",{className:"date-of-joining-widget d-flex flex-column justify-content-center",children:[Object(v.jsx)("p",{className:"sub-label",children:"Date of joining the Platform :"}),Object(v.jsx)("p",{className:"label",children:(null===J||void 0===J?void 0:J.dateOfJoining)?m()(null===J||void 0===J?void 0:J.dateOfJoining).format("DD-MM-YYYY"):"-"})]})}),Object(v.jsx)(c.a,{profileData:i,onChange:M}),Object(v.jsx)(r.a,{profileData:i,onChange:M,checkStatus:f,toggleCorporateHeadQuarters:function(){g(!f),f||u((function(e){return Object(o.a)(Object(o.a)({},e),{},{corporateLocalBranchAddressLine1:e.corporateHQAddressLine1,corporateLocalBranchAddressLine2:e.corporateHQAddressLine2,corporateLocalBranchAddressCountry:e.corporateHQAddressCountry,corporateLocalBranchAddressState:e.corporateHQAddressState,corporateLocalBranchAddressCity:e.corporateHQAddressCity,corporateLocalBranchAddressDistrict:e.corporateHQAddressDistrict,corporateLocalBranchAddressZipCode:e.corporateHQAddressZipCode,corporateLocalBranchAddressPhone:e.corporateHQAddressPhone,corporateLocalBranchAddressEmail:e.corporateHQAddressEmail})}))}}),Object(v.jsx)(s.a,{profileData:i,onChange:M,tempAttachment:k,fileHandler:I}),Object(v.jsx)(p,{profileData:i,onChange:M}),Object(v.jsx)("div",{className:"d-grp",children:Object(v.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(v.jsx)("input",{onChange:function(){q(!E)},checked:E,type:"checkbox",className:"custom-control-input",id:"accept",required:!0}),Object(v.jsx)("label",{className:"custom-control-label",htmlFor:"accept",children:"I hereby accept the Terms & Conditions of the Platform"})]})}),Object(v.jsx)("div",{className:"w-100 text-center",children:Object(v.jsx)("button",{type:"button",onClick:function(){var e=Object(o.a)(Object(o.a)({},i),{},{dateOfJoining:m()(i.dateOfJoining)});void 0===(null===e||void 0===e?void 0:e.attachment)&&delete e.attachment,void 0===(null===e||void 0===e?void 0:e.profilePicture)&&delete e.profilePicture,F(Object(b.c)({apiPayloadRequest:e,callback:function(){y(!0)}}))},disabled:!((null===i||void 0===i?void 0:i.stakeholderID)&&(null===i||void 0===i?void 0:i.CIN)&&(null===i||void 0===i?void 0:i.corporateType)&&(null===i||void 0===i?void 0:i.corporateCategory)&&(null===i||void 0===i?void 0:i.corporateIndustry)&&(null===i||void 0===i?void 0:i.dateOfJoining)&&(null===i||void 0===i?void 0:i.corporateHQAddressLine1)&&(null===i||void 0===i?void 0:i.corporateHQAddressCountry)&&(null===i||void 0===i?void 0:i.corporateHQAddressState)&&(null===i||void 0===i?void 0:i.corporateHQAddressCity)&&(null===i||void 0===i?void 0:i.corporateHQAddressDistrict)&&(null===i||void 0===i?void 0:i.corporateHQAddressZipCode)&&(null===i||void 0===i?void 0:i.corporateHQAddressPhone)&&(null===i||void 0===i?void 0:i.corporateHQAddressEmail)&&E),className:"btn",children:"Save"})}),Object(v.jsx)(j.a,{onClose:function(){y(!1)},show:C,iconNameClass:"fa-building",message:"Your profile has been updated successfully"})]})}}}]);