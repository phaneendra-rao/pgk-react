(this.webpackJsonppgk=this.webpackJsonppgk||[]).push([[5],{45:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return m})),r.d(t,"j",(function(){return p})),r.d(t,"e",(function(){return g})),r.d(t,"b",(function(){return j})),r.d(t,"f",(function(){return b})),r.d(t,"a",(function(){return h})),r.d(t,"i",(function(){return f}));var a=r(47),n=r.n(a).a.create({baseURL:"http://65.0.248.114:80/api/"});n.defaults.headers.common["Content-Type"]="multipart/form-data",n.interceptors.request.use((function(e){return console.log(e),e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var s=n,o=r(18),i=r(10),c=function(e){return function(t){t({type:i.a,payload:e})}},l=function(){return function(e){s.get("http://restcountries.eu/rest/v2/all?fields=name;flag;callingCodes;").then((function(t){var r=t.data;e({type:i.d,payload:r})})).catch((function(e){var t=JSON.stringify(e);o.a.error(JSON.parse(t).message)}))}},d=function(e,t,r){return function(a){var n;"Corporate"===r?n="/o/signUp/Corporate":"University"===r&&(n="/o/signUp/University");var l=new FormData;for(var d in e)l.append(d,e[d]);a(c(!0)),a({type:i.c,payload:e}),s.post(n,l).then((function(e){var r=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(r)),localStorage.setItem("steps",3),a({type:i.h,payload:3}),a(c(!1)),o.a.success(r.message),t.push("/register/authentication")})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),a(c(!1))}))}},u=function(e,t,r){return function(r){var a=new FormData;for(var n in e)a.append(n,e[n]);r(c(!0)),r({type:i.c,payload:e}),s.post("/o/signUp/Student",a).then((function(e){var a=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(a)),localStorage.setItem("steps",3),r({type:i.h,payload:3}),r(c(!1)),o.a.success(a.message),t.push("/register/studentAuthentication")})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),r(c(!1))}))}},m=function(e,t){return function(r){var a=new FormData;a.append("stakeholder",e.stakeholder),a.append("userID",e.userID),a.append("password",e.password),r(c(!0)),s.post("/o/login",a).then((function(e){var a=e.data;localStorage.setItem("token",a.token),r(c(!1)),o.a.success("Login successful"),"/dashboard"===a.redirectURL?t.push("/"):t.push("/register/payment")})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),r(c(!1))}))}},p=function(e,t,r){return function(a){var n;n=1===t?"/o/verifyMobile":"/o/verifyEmail";var i=new FormData;for(var l in e)i.append(l,e[l]);a(c(!0)),s.post(n,i).then((function(e){var t=e.data;a(c(!1)),o.a.success(t.message),r.push("/register/completed")})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),a(c(!1))}))}},g=function(e){return function(t){var r=new FormData;for(var a in e)r.append(a,e[a]);t(c(!0)),s.post("/o/resendOtp",r).then((function(e){var r=e.data;o.a.success(r.message),t(c(!1))})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),t(c(!1))}))}},j=function(e){return function(t){var r;"Corporate"===e?r="/u/lut/?lutList=corporateType&lutList=corporateCategory&lutList=corporateIndustry":"University"===e&&(r="/u/lut/?lutList=universityCategory"),s.get(r).then((function(e){var r=e.data;t({type:i.b,payload:r})})).catch((function(e){var t=JSON.stringify(e);o.a.error(JSON.parse(t).message)}))}},b=function(e,t){return function(r){localStorage.setItem("steps",t),r({type:i.c,payload:e}),r({type:i.h,payload:t})}},h=function(){return function(e){var t=new FormData;t.append("payType","REG_FEE"),e(c(!0));var r=localStorage.getItem("token"),a={headers:{Authorization:"Bearer ".concat(r)}};s.post("/pg/createPayment",t,a).then((function(t){var r=t.data;sessionStorage.setItem("orderID",r.orderID),e({type:i.f,payload:r}),e(c(!1))})).catch((function(t){t.response?o.a.error(t.response.data):o.a.error("Something Wrong!",t.message),e(c(!1))}))}},f=function(e){return function(t){var r=new FormData;r.append("orderID",e);var a=localStorage.getItem("token"),n={headers:{Authorization:"Bearer ".concat(a)}};t(c(!0)),s.post("/pg/verifyPayment",r,n).then((function(e){var r=e.data;t(c(!1)),o.a.success(r[0]),o.a.success(r[1]),o.a.success(r[2])})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),t(c(!1))}))}}},78:function(e,t,r){"use strict";r.r(t);var a=r(16),n=r(0),s=r(18),o=r(2),i=r(11),c=r(5),l=r(1),d=function(e){var t=e.type,r=e.email,a=e.password,n=e.handlerChange,s=e.handleSubmit,o=e.errors,i=o.emailErr,d=o.passwordErr;return Object(l.jsxs)("form",{className:"login-form",onSubmit:s,children:[Object(l.jsxs)("div",{className:"login-grp",children:[Object(l.jsx)("label",{className:"login-label",children:"Corporate ID / Email"}),Object(l.jsx)("input",{type:"email",name:"email",onChange:n,className:"login-inp".concat(i?" login-inp-error":""),placeholder:"test@test.com",required:!0}),i?Object(l.jsx)("p",{className:"inp-errors",children:i}):null]}),Object(l.jsxs)("div",{className:"login-grp",children:[Object(l.jsx)("label",{className:"login-label",children:"Password"}),Object(l.jsx)("input",{type:"password",name:"password",onChange:n,className:"login-inp".concat(d?" login-inp-error":""),placeholder:"**********",required:!0}),d?Object(l.jsx)("p",{className:"inp-errors",children:d}):null]}),Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)("button",{type:"submit",disabled:i||d||!r||!a,className:"login-btn",children:"Login"})}),Object(l.jsx)("p",{className:"login-register",children:"New here ?"}),Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)(c.b,{to:"Student"===t?"/register/studentRegister":"/register",className:"login-reg-link",children:Object(l.jsxs)("button",{type:"button",className:"btn",children:["Register as new ",t]})})})]})},u=r(45),m=function(e){var t=Object(n.useState)(""),r=Object(a.a)(t,2),c=r[0],m=r[1],p=Object(n.useState)(""),g=Object(a.a)(p,2),j=g[0],b=g[1],h=Object(n.useState)({emailErr:"",passwordErr:""}),f=Object(a.a)(h,2),O=f[0],v=f[1],y=Object(i.b)(),x=(Object(i.c)((function(e){return e.CorporateReducer.apiStatus})),e.type||localStorage.getItem("type"));return Object(l.jsx)(d,{email:c,type:x,password:j,handlerChange:function(e){var t=e.target,r=t.name,a=t.value;switch(r){case"email":var n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return void(a&&n.test(a)?(m(a),v((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailErr:""})}))):a&&n.test(a)||(m(a),v((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailErr:"Email error"})}))));case"password":return void(a&&a.length>=8?(b(a),v((function(e){return Object(o.a)(Object(o.a)({},e),{},{passwordErr:""})}))):(b(a),v((function(e){return Object(o.a)(Object(o.a)({},e),{},{passwordErr:"Password error"})}))))}},handleSubmit:function(t){t.preventDefault();var r=O.emailErr,a=O.passwordErr;if(c&&j&&!r&&!a){var n={stakeholder:x,userID:c,password:j};y(Object(u.d)(n,e.history))}else s.a.error("Please enter all input fields")},errors:O})},p=window.$;t.default=function(e){var t=Object(n.useState)(""),r=Object(a.a)(t,2),o=r[0],i=r[1];Object(n.useEffect)((function(){p("#role").modal({backdrop:"static",keyboard:!1}),p("#role").modal("show")}),[]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("section",{className:"login",children:Object(l.jsxs)("div",{className:"row m-0",children:[Object(l.jsx)("div",{className:"col-md-5 p-0 bg-red",children:Object(l.jsxs)("div",{className:"login-box",children:[Object(l.jsx)("img",{src:"images/corporate/login-img.png",alt:"login-img",className:"login-img1"}),Object(l.jsx)("h2",{className:"login-heading",children:"PGK."}),"Corporate"===o?Object(l.jsxs)("h3",{className:"login-subheading",children:["for the perfect ",Object(l.jsx)("br",{})," recruitment solutions"]}):"University"===o?Object(l.jsxs)("h3",{className:"login-subheading",children:["open the door of ",Object(l.jsx)("br",{})," placement through us"]}):Object(l.jsxs)("h3",{className:"login-subheading",children:["a better way  ",Object(l.jsx)("br",{})," to get your dream job"]}),"Corporate"===o?Object(l.jsx)("img",{src:"images/corporate/login-img1.png",alt:"login-img",className:"login-img2"}):"University"===o?Object(l.jsx)("img",{src:"images/corporate/university-login.png",alt:"login-img",className:"login-img2 login-university-img"}):Object(l.jsx)("img",{src:"images/corporate/student-login.png",alt:"login-img",className:"login-img2 login-student-img"})]})}),Object(l.jsx)("div",{className:"col-md-7 p-0",children:Object(l.jsxs)("div",{className:"login-box login-box1",children:[Object(l.jsx)("img",{src:"images/corporate/login-img2.png",alt:"login-img",className:"login-img1 login-img3"}),Object(l.jsxs)("h4",{className:"login-title",children:["Login as ",Object(l.jsx)("span",{children:o})]}),Object(l.jsx)("div",{className:"line"}),Object(l.jsx)(m,{history:e.history,type:o})]})})]})}),Object(l.jsx)("div",{className:"modal fade show",style:{display:"block"},id:"role",tabIndex:-1,role:"dialog","data-keyboard":"false","data-backdrop":"static","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(l.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(l.jsx)("div",{className:"modal-content modal-form",children:Object(l.jsxs)("div",{className:"modal-body",children:[Object(l.jsx)("h4",{className:"modal-title mb-1 mt-0",children:"You are a"}),Object(l.jsxs)("form",{className:"login-form mx-auto",onSubmit:function(e){e.preventDefault(),o?(p("#role").modal("hide"),localStorage.setItem("type",o)):s.a.error("Please select one")},children:[Object(l.jsxs)("div",{className:"login-grp mb-2 mx-auto",children:[Object(l.jsx)("span",{className:"modal-icon",children:Object(l.jsx)("i",{className:"fas fa-envelope"})}),Object(l.jsxs)("select",{name:"type",defaultValue:"DEFAULT",onChange:function(e){var t=e.target,r=(t.name,t.value);i(r)},className:"modal-inp",required:!0,children:[Object(l.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Select type"}),Object(l.jsx)("option",{value:"Corporate",children:"Corporate"}),Object(l.jsx)("option",{value:"University",children:"University"}),Object(l.jsx)("option",{value:"Student",children:"Student"})]})]}),Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)("button",{type:"submit",className:"login-btn mb-0",children:"Proceed"})})]})]})})})})]})}}}]);