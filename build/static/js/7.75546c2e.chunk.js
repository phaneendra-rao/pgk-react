(this.webpackJsonppgk=this.webpackJsonppgk||[]).push([[7],{45:function(e,a,t){"use strict";t.d(a,"c",(function(){return l})),t.d(a,"g",(function(){return m})),t.d(a,"h",(function(){return d})),t.d(a,"d",(function(){return u})),t.d(a,"j",(function(){return p})),t.d(a,"e",(function(){return j})),t.d(a,"b",(function(){return b})),t.d(a,"f",(function(){return h})),t.d(a,"a",(function(){return g})),t.d(a,"i",(function(){return f}));var r=t(47),n=t.n(r).a.create({baseURL:"http://65.0.248.114:80/api/"});n.defaults.headers.common["Content-Type"]="multipart/form-data",n.interceptors.request.use((function(e){return console.log(e),e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var s=n,c=t(18),o=t(10),i=function(e){return function(a){a({type:o.a,payload:e})}},l=function(){return function(e){s.get("http://restcountries.eu/rest/v2/all?fields=name;flag;callingCodes;").then((function(a){var t=a.data;e({type:o.d,payload:t})})).catch((function(e){var a=JSON.stringify(e);c.a.error(JSON.parse(a).message)}))}},m=function(e,a,t){return function(r){var n;"Corporate"===t?n="/o/signUp/Corporate":"University"===t&&(n="/o/signUp/University");var l=new FormData;for(var m in e)l.append(m,e[m]);r(i(!0)),r({type:o.c,payload:e}),s.post(n,l).then((function(e){var t=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(t)),localStorage.setItem("steps",3),r({type:o.h,payload:3}),r(i(!1)),c.a.success(t.message),a.push("/register/authentication")})).catch((function(e){e.response?c.a.error(e.response.data.errors[0].message):c.a.error("Something Wrong!",e.message),r(i(!1))}))}},d=function(e,a,t){return function(t){var r=new FormData;for(var n in e)r.append(n,e[n]);t(i(!0)),t({type:o.c,payload:e}),s.post("/o/signUp/Student",r).then((function(e){var r=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(r)),localStorage.setItem("steps",3),t({type:o.h,payload:3}),t(i(!1)),c.a.success(r.message),a.push("/register/studentAuthentication")})).catch((function(e){e.response?c.a.error(e.response.data.errors[0].message):c.a.error("Something Wrong!",e.message),t(i(!1))}))}},u=function(e,a){return function(t){var r=new FormData;r.append("stakeholder",e.stakeholder),r.append("userID",e.userID),r.append("password",e.password),t(i(!0)),s.post("/o/login",r).then((function(e){var r=e.data;localStorage.setItem("token",r.token),t(i(!1)),c.a.success("Login successful"),"/dashboard"===r.redirectURL?a.push("/"):a.push("/register/payment")})).catch((function(e){e.response?c.a.error(e.response.data.errors[0].message):c.a.error("Something Wrong!",e.message),t(i(!1))}))}},p=function(e,a,t){return function(r){var n;n=1===a?"/o/verifyMobile":"/o/verifyEmail";var o=new FormData;for(var l in e)o.append(l,e[l]);r(i(!0)),s.post(n,o).then((function(e){var a=e.data;r(i(!1)),c.a.success(a.message),t.push("/register/completed")})).catch((function(e){e.response?c.a.error(e.response.data.errors[0].message):c.a.error("Something Wrong!",e.message),r(i(!1))}))}},j=function(e){return function(a){var t=new FormData;for(var r in e)t.append(r,e[r]);a(i(!0)),s.post("/o/resendOtp",t).then((function(e){var t=e.data;c.a.success(t.message),a(i(!1))})).catch((function(e){e.response?c.a.error(e.response.data.errors[0].message):c.a.error("Something Wrong!",e.message),a(i(!1))}))}},b=function(e){return function(a){var t;"Corporate"===e?t="/u/lut/?lutList=corporateType&lutList=corporateCategory&lutList=corporateIndustry":"University"===e&&(t="/u/lut/?lutList=universityCategory"),s.get(t).then((function(e){var t=e.data;a({type:o.b,payload:t})})).catch((function(e){var a=JSON.stringify(e);c.a.error(JSON.parse(a).message)}))}},h=function(e,a){return function(t){localStorage.setItem("steps",a),t({type:o.c,payload:e}),t({type:o.h,payload:a})}},g=function(){return function(e){var a=new FormData;a.append("payType","REG_FEE"),e(i(!0));var t=localStorage.getItem("token"),r={headers:{Authorization:"Bearer ".concat(t)}};s.post("/pg/createPayment",a,r).then((function(a){var t=a.data;sessionStorage.setItem("orderID",t.orderID),e({type:o.f,payload:t}),e(i(!1))})).catch((function(a){a.response?c.a.error(a.response.data):c.a.error("Something Wrong!",a.message),e(i(!1))}))}},f=function(e){return function(a){var t=new FormData;t.append("orderID",e);var r=localStorage.getItem("token"),n={headers:{Authorization:"Bearer ".concat(r)}};a(i(!0)),s.post("/pg/verifyPayment",t,n).then((function(e){var t=e.data;a(i(!1)),c.a.success(t[0]),c.a.success(t[1]),c.a.success(t[2])})).catch((function(e){e.response?c.a.error(e.response.data.errors[0].message):c.a.error("Something Wrong!",e.message),a(i(!1))}))}}},84:function(e,a,t){"use strict";t.r(a);var r=t(24),n=t(2),s=t(16),c=t(0),o=t(11),i=t(18),l=t(1),m=function(e){var a=e.paymentData,t=e.errors,r=e.handlerChange,n=e.handleSubmit,s=t.emailErr,c=t.nameErr,o=t.mobileErr,i=t.amtErr;return Object(l.jsxs)("form",{className:"login-form reg-form",onSubmit:n,children:[Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-md-12",children:[Object(l.jsxs)("div",{className:"login-grp",children:[Object(l.jsx)("input",{type:"text",name:"name",onChange:r,className:"login-inp".concat(c?" login-inp-error":""),placeholder:"Name",autoFocus:!0,required:!0}),c?Object(l.jsx)("p",{className:"inp-errors",children:c}):null]}),Object(l.jsxs)("div",{className:"login-grp",children:[Object(l.jsx)("input",{type:"tel",name:"contact",onChange:r,className:"login-inp".concat(o?" login-inp-error":""),placeholder:"Phone Number",required:!0}),o?Object(l.jsx)("p",{className:"inp-errors",children:o}):null]}),Object(l.jsxs)("div",{className:"login-grp",children:[Object(l.jsx)("input",{type:"email",name:"email",onChange:r,className:"login-inp".concat(s?" login-inp-error":""),placeholder:"Email",required:!0}),s?Object(l.jsx)("p",{className:"inp-errors",children:s}):null]}),Object(l.jsxs)("div",{className:"login-grp",children:[Object(l.jsx)("input",{type:"number",name:"amount",onChange:r,className:"login-inp".concat(i?" login-inp-error":""),defaultValue:a.amount,placeholder:"Amount",required:!0}),i?Object(l.jsx)("p",{className:"inp-errors",children:i}):null]})]})}),Object(l.jsxs)("div",{className:"reg-payment-btns reg-payment-btns2",children:[Object(l.jsxs)("button",{type:"reset",className:"reg-payment-btn",children:[Object(l.jsx)("i",{className:"fas fa-times-circle"})," Cancel Payment"]}),Object(l.jsxs)("button",{type:"submit",className:"reg-payment-btn",children:[Object(l.jsx)("i",{className:"fas fa-check-circle"})," Make Payment"]})]})]})},d=t(45),u=window.$;a.default=function(e){var a=Object(c.useState)({name:"",email:"",contact:""}),t=Object(s.a)(a,2),p=t[0],j=t[1],b=Object(c.useState)({emailErr:"",passwordErr:"",nameErr:"",mobileErr:"",amtErr:""}),h=Object(s.a)(b,2),g=h[0],f=h[1],O=Object(c.useState)({total:0,gst:0,amount:0}),y=Object(s.a)(O,2),v=y[0],x=y[1],N=Object(o.c)((function(e){return e.CorporateReducer.paymentOrder})),S=Object(o.b)();Object(c.useEffect)((function(){S(Object(d.a)());var e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e)}),[]),Object(c.useEffect)((function(){var e=N.amount,a=e+.18*e;j({amount:e}),x({amount:e,gst:(.18*e).toFixed(2),total:a.toFixed(2)})}),[N]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"reg-payment",children:[Object(l.jsx)("h2",{className:"reg-payment-title",children:"Choose the Payment mode"}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-7",children:[Object(l.jsxs)("ul",{className:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{className:"nav-link active",id:"Credit-tab","data-toggle":"pill",href:"#Credit",role:"tab","aria-controls":"Credit","aria-selected":"true",children:[Object(l.jsx)("i",{className:"far fa-credit-card"})," Credit/Debit Card"]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{className:"nav-link",id:"Net-tab","data-toggle":"pill",href:"#Net",role:"tab","aria-controls":"Net","aria-selected":"false",children:[Object(l.jsx)("i",{className:"fas fa-university"})," Net Banking"]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("a",{className:"nav-link",id:"UPI-tab","data-toggle":"pill",href:"#UPI",role:"tab","aria-controls":"UPI","aria-selected":"false",children:"UPI/Wallets"})})]}),Object(l.jsx)("div",{className:"tab-content",id:"pills-tabContent",children:Object(l.jsx)("div",{className:"tab-pane fade show active",id:"Credit",role:"tabpanel","aria-labelledby":"Credit-tab",children:Object(l.jsx)(m,{paymentData:p,errors:g,handlerChange:function(e){var a=e.target,t=a.name,s=a.value;switch(j((function(e){return Object(n.a)(Object(n.a)({},e),{},Object(r.a)({},t,s))})),t){case"name":return void(s?f((function(e){return Object(n.a)(Object(n.a)({},e),{},{nameErr:""})})):s||f((function(e){return Object(n.a)(Object(n.a)({},e),{},{lnameErr:"Last name error"})})));case"email":var c=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return void(s&&c.test(s)?f((function(e){return Object(n.a)(Object(n.a)({},e),{},{email2Err:""})})):s&&c.test(s)||f((function(e){return Object(n.a)(Object(n.a)({},e),{},{email2Err:"Email error"})})));case"contact":return void(/^[+-]?[0-9\b]+$/.test(s)&&s.length>=10?f((function(e){return Object(n.a)(Object(n.a)({},e),{},{mobileErr:""})})):f((function(e){return Object(n.a)(Object(n.a)({},e),{},{mobileErr:"Invalid"})})));case"amount":var o=parseInt(s),i=o+.18*o;return x({amount:o,gst:(.18*o).toFixed(2),total:i.toFixed(2)}),void(s.length>=0?f((function(e){return Object(n.a)(Object(n.a)({},e),{},{amtErr:""})})):f((function(e){return Object(n.a)(Object(n.a)({},e),{},{amtErr:"Invalid"})})))}},handleSubmit:function(e){e.preventDefault();var a=p.name,t=p.email,r=p.contact,n=g.nameErr,s=g.mobileErr,c=(g.emailErr,g.amtErr);a&&t&&r&&!n&&!s&&!c?function(){var e={key:"rzp_test_as3TPs08PoZ4UR",amount:100*v.total,name:"PGK",description:"PGK TECHNOLOGIES PRIVATE LIMITED",image:"https://cdn.razorpay.com/logos/7K3b6d18wHwKzL_medium.png",handler:function(e){console.log(e),S(Object(d.i)(N.orderID)),u("#paymentSuccess").modal({backdrop:"static",keyboard:!1}),u("#paymentSuccess").modal("show")},prefill:{name:p.name,contact:p.contact,email:p.email},notes:{address:""},theme:{color:"blue",hide_topbar:!1}};new window.Razorpay(e).open()}():i.a.error("Please enter required input fields")}})})})]}),Object(l.jsx)("div",{className:"col-md-5",children:Object(l.jsxs)("div",{className:"payment-summary",children:[Object(l.jsx)("h5",{className:"payment-summary-header",children:"Fee Summary"}),Object(l.jsxs)("ul",{className:"payment-data",children:[Object(l.jsxs)("li",{className:"payment-data-li",children:[Object(l.jsx)("p",{className:"payment-data-name",children:"Registration Fee"}),Object(l.jsx)("span",{children:v.amount})]}),Object(l.jsxs)("li",{className:"payment-data-li",children:[Object(l.jsxs)("p",{className:"payment-data-name",children:["GST (18%) ",Object(l.jsx)("span",{children:"rounded"})]}),Object(l.jsx)("span",{children:v.gst})]}),Object(l.jsxs)("li",{className:"payment-data-li",children:[Object(l.jsx)("p",{className:"payment-data-name",children:"Total"}),Object(l.jsxs)("span",{children:[Object(l.jsx)("i",{className:"fas fa-rupee-sign",style:{fontSize:"12px"}}),v.total]})]})]})]})})]})]}),Object(l.jsx)("div",{className:"modal fade",id:"paymentSuccess",tabIndex:-1,role:"dialog","data-keyboard":"false","data-backdrop":"static","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(l.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(l.jsx)("div",{className:"modal-content modal-form",children:Object(l.jsxs)("div",{className:"modal-body",children:[Object(l.jsx)("h4",{className:"modal-title mb-1 mt-0",children:"Payment is successful"}),Object(l.jsxs)("form",{className:"login-form mx-auto",onSubmit:function(){u("#paymentSuccess").modal("hide"),e.history.replace("/")},children:[Object(l.jsx)("div",{className:"login-grp mb-2 mx-auto text-center text-success",children:Object(l.jsx)("i",{className:"fas fa-check-circle",style:{fontSize:"70px"}})}),Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)("button",{type:"submit",className:"login-btn mb-0",children:"Proceed"})})]})]})})})})]})}}}]);