(this.webpackJsonppgk=this.webpackJsonppgk||[]).push([[23],{132:function(e,r,a){"use strict";a.r(r);var t=a(9),o=a(39),c=a(24),n=a(1),s=a(23),i=a(5),d=a(0),l=function(e){e.history;var r=e.corporatePrimaryData,a=e.errors,t=e.saveData,o=e.handlerChange,c=e.handleSubmit,n=e.countryCodes,s=e.code,i=e.code2,l=localStorage.getItem("type"),p=a.emailErr,u=a.email2Err,h=a.mobileErr,m=a.mobile2Err;return Object(d.jsxs)("form",{onSubmit:c,className:"login-form reg-form",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"corporateName",onChange:o,defaultValue:r.corporateName,className:"login-inp",placeholder:"".concat(l," Name"),autoFocus:!0,required:!0})}),Object(d.jsxs)("h6",{className:"reg-label",children:[l," Headquarters"]}),Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"corporateHQAddressLine1",onChange:o,defaultValue:r.corporateHQAddressLine1,className:"login-inp",placeholder:"Address (Line 1)",required:!1})}),Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"corporateHQAddressLine2",onChange:o,defaultValue:r.corporateHQAddressLine2,className:"login-inp",placeholder:"Address (Line 2)",required:!1})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-6 pr-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsxs)("select",{name:"corporateHQAddressCountry",onChange:o,defaultValue:r.corporateHQAddressCountry?r.corporateHQAddressCountry:"DEFAULT",className:"login-inp",required:!1,children:[Object(d.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Country"}),n&&n.length>=0?n.map((function(e,r){return Object(d.jsx)("option",{value:e.name,children:e.name},r)})):null]})})}),Object(d.jsx)("div",{className:"col-md-6 pl-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsxs)("select",{name:"corporateHQAddressState",onChange:o,defaultValue:r.corporateHQAddressState?r.corporateHQAddressState:"DEFAULT",className:"login-inp",required:!1,children:[Object(d.jsx)("option",{value:"DEFAULT",disabled:!0,children:"State"}),Object(d.jsx)("option",{value:"TS",children:"TS"}),Object(d.jsx)("option",{value:"AP",children:"AP"})]})})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-4 pr-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"corporateHQAddressCity",onChange:o,defaultValue:r.corporateHQAddressCity,className:"login-inp",placeholder:"City",required:!1})})}),Object(d.jsx)("div",{className:"col-md-4 px-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"corporateHQAddressDistrict",onChange:o,defaultValue:r.corporateHQAddressDistrict,className:"login-inp",placeholder:"District",required:!1})})}),Object(d.jsx)("div",{className:"col-md-4 pl-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"number",name:"corporateHQAddressZipCode",onChange:o,defaultValue:r.corporateHQAddressZipCode,className:"login-inp",placeholder:"Zipcode",required:!1})})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-6 pr-1",children:Object(d.jsxs)("div",{className:"login-grp",children:[Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)("input",{type:"tel",name:"code",onChange:o,value:s,className:"login-inp px-1 text-center",placeholder:"",style:{width:"50px"},readOnly:!0,disabled:!0,required:!0}),Object(d.jsx)("input",{type:"tel",name:"corporateHQAddressPhone",onChange:o,defaultValue:r.corporateHQAddressPhone,className:"login-inp".concat(h?" login-inp-error":""),placeholder:"Phone Number",required:!0})]}),h?Object(d.jsx)("p",{className:"inp-errors",children:h}):null]})}),Object(d.jsx)("div",{className:"col-md-6 pl-1",children:Object(d.jsxs)("div",{className:"login-grp",children:[Object(d.jsx)("input",{type:"email",name:"corporateHQAddressEmail",onChange:o,defaultValue:r.corporateHQAddressEmail,className:"login-inp".concat(p?" login-inp-error":""),placeholder:"Office mail",required:!1}),p?Object(d.jsx)("p",{className:"inp-errors",children:p}):null]})})]})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"CIN",onChange:o,defaultValue:r.CIN,className:"login-inp",placeholder:"Corporate"===l?"CIN":"University/College ID",required:!0})}),Object(d.jsxs)("div",{className:"d-lg-flex",children:[Object(d.jsxs)("h6",{className:"reg-label",children:[l," Local Branch"]}),Object(d.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(d.jsx)("input",{type:"checkbox",onChange:t,className:"custom-control-input",id:"save"}),Object(d.jsxs)("label",{className:"custom-control-label",htmlFor:"save",children:["Same as ",l," Head Quarters"]})]})]}),Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"corporateLocalBranchAddressLine1",onChange:o,defaultValue:r.corporateLocalBranchAddressLine1,className:"login-inp",placeholder:"Address (Line 1)",required:!1})}),Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"corporateLocalBranchAddressLine2",onChange:o,defaultValue:r.corporateLocalBranchAddressLine2,className:"login-inp",placeholder:"Address (Line 2)",required:!1})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-6 pr-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsxs)("select",{name:"corporateLocalBranchAddressCountry",onChange:o,value:r.corporateLocalBranchAddressCountry?r.corporateLocalBranchAddressCountry:"DEFAULT",className:"login-inp",required:!1,children:[Object(d.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Country"}),n&&n.length>=0?n.map((function(e,r){return Object(d.jsx)("option",{value:e.name,children:e.name},r)})):null]})})}),Object(d.jsx)("div",{className:"col-md-6 pl-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsxs)("select",{name:"corporateLocalBranchAddressState",onChange:o,value:r.corporateLocalBranchAddressState?r.corporateLocalBranchAddressState:"DEFAULT",className:"login-inp",required:!1,children:[Object(d.jsx)("option",{value:"DEFAULT",disabled:!0,children:"State"}),Object(d.jsx)("option",{value:"TS",children:"TS"}),Object(d.jsx)("option",{value:"AP",children:"AP"})]})})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-4 pr-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"corporateLocalBranchAddressCity",onChange:o,defaultValue:r.corporateLocalBranchAddressCity,className:"login-inp",placeholder:"City",required:!1})})}),Object(d.jsx)("div",{className:"col-md-4 px-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"text",name:"corporateLocalBranchAddressDistrict",onChange:o,defaultValue:r.corporateLocalBranchAddressDistrict,className:"login-inp",placeholder:"District",required:!1})})}),Object(d.jsx)("div",{className:"col-md-4 pl-1",children:Object(d.jsx)("div",{className:"login-grp",children:Object(d.jsx)("input",{type:"number",name:"corporateLocalBranchAddressZipCode",onChange:o,defaultValue:r.corporateLocalBranchAddressZipCode,className:"login-inp",placeholder:"Zipcode",required:!1})})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-6 pr-1",children:Object(d.jsxs)("div",{className:"login-grp",children:[Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)("input",{type:"tel",name:"code2",onChange:o,defaultValue:i,className:"login-inp px-1 text-center",placeholder:"",style:{width:"50px"},readOnly:!0,disabled:!0,required:!0}),Object(d.jsx)("input",{type:"tel",name:"corporateLocalBranchAddressPhone",onChange:o,defaultValue:r.corporateLocalBranchAddressPhone,className:"login-inp".concat(m?" login-inp-error":""),placeholder:"Phone Number",required:!1})]}),m?Object(d.jsx)("p",{className:"inp-errors",children:m}):null]})}),Object(d.jsx)("div",{className:"col-md-6 pl-1",children:Object(d.jsxs)("div",{className:"login-grp",children:[Object(d.jsx)("input",{type:"email",name:"corporateLocalBranchAddressEmail",onChange:o,defaultValue:r.corporateLocalBranchAddressEmail,className:"login-inp".concat(u?" login-inp-error":""),placeholder:"Office mail",required:!1}),u?Object(d.jsx)("p",{className:"inp-errors",children:u}):null]})})]})]})]}),Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{type:"submit",className:"reg-btn",children:"Next"})})]})},p=a(97);r.default=function(e){var r=Object(n.useState)({corporateName:"",corporateHQAddressLine1:"",corporateHQAddressLine2:"",corporateHQAddressCountry:"",corporateHQAddressState:"",corporateHQAddressCity:"",corporateHQAddressDistrict:"",corporateHQAddressZipCode:"",corporateHQAddressPhone:"",corporateHQAddressEmail:"",CIN:"",corporateLocalBranchAddressLine1:"",corporateLocalBranchAddressLine2:"",corporateLocalBranchAddressCountry:"",corporateLocalBranchAddressState:"",corporateLocalBranchAddressCity:"",corporateLocalBranchAddressDistrict:"",corporateLocalBranchAddressZipCode:"",corporateLocalBranchAddressPhone:"",corporateLocalBranchAddressEmail:""}),a=Object(c.a)(r,2),u=a[0],h=a[1],m=Object(n.useState)({emailErr:"",email2Err:"",mobileErr:"",mobile2Err:""}),j=Object(c.a)(m,2),g=j[0],b=j[1],O=Object(n.useState)(""),f=Object(c.a)(O,2),v=f[0],A=f[1],x=Object(n.useState)(""),y=Object(c.a)(x,2),N=y[0],L=y[1],C=Object(s.a)(),B=Object(s.b)((function(e){return e.CorporateReducer.corporatePrimaryState})),S=Object(s.b)((function(e){return e.CorporateReducer.countryCodes}));console.log(B),Object(n.useEffect)((function(){if(C(Object(p.c)()),B){var e=function(e){h((function(r){return Object(o.a)({},e,B[e])}))};for(var r in B)e(r)}}),[]);return Object(d.jsx)(l,{corporatePrimaryData:u,errors:g,code:v,code2:N,countryCodes:S,history:e.history,saveData:function(e){e.target.checked?(h((function(e){return Object(t.a)(Object(t.a)({},e),{},{corporateLocalBranchAddressLine1:u.corporateHQAddressLine1,corporateLocalBranchAddressLine2:u.corporateHQAddressLine2,corporateLocalBranchAddressCountry:u.corporateHQAddressCountry,corporateLocalBranchAddressState:u.corporateHQAddressState,corporateLocalBranchAddressCity:u.corporateHQAddressCity,corporateLocalBranchAddressDistrict:u.corporateHQAddressDistrict,corporateLocalBranchAddressZipCode:u.corporateHQAddressZipCode,corporateLocalBranchAddressPhone:u.corporateHQAddressPhone,corporateLocalBranchAddressEmail:u.corporateHQAddressEmail})})),L(v)):(h((function(e){return Object(t.a)(Object(t.a)({},e),{},{corporateLocalBranchAddressLine1:"",corporateLocalBranchAddressLine2:"",corporateLocalBranchAddressCountry:"",corporateLocalBranchAddressState:"",corporateLocalBranchAddressCity:"",corporateLocalBranchAddressDistrict:"",corporateLocalBranchAddressZipCode:"",corporateLocalBranchAddressPhone:"",corporateLocalBranchAddressEmail:""})})),L(""))},handlerChange:function(e){var r=e.target,a=r.name,c=r.value;switch(h((function(e){return Object(t.a)(Object(t.a)({},e),{},Object(o.a)({},a,c))})),a){case"corporateHQAddressEmail":var n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return void(c&&n.test(c)?b((function(e){return Object(t.a)(Object(t.a)({},e),{},{emailErr:""})})):c&&n.test(c)||b((function(e){return Object(t.a)(Object(t.a)({},e),{},{emailErr:"Email error"})})));case"corporateLocalBranchAddressEmail":var s=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return void(c&&s.test(c)?b((function(e){return Object(t.a)(Object(t.a)({},e),{},{email2Err:""})})):c&&s.test(c)||b((function(e){return Object(t.a)(Object(t.a)({},e),{},{email2Err:"Email error"})})));case"corporateHQAddressPhone":return void(/^[+-]?[0-9\b]+$/.test(c)&&10===c.length?b((function(e){return Object(t.a)(Object(t.a)({},e),{},{mobileErr:""})})):b((function(e){return Object(t.a)(Object(t.a)({},e),{},{mobileErr:"Invalid"})})));case"corporateLocalBranchAddressPhone":return void(/^[+-]?[0-9\b]+$/.test(c)&&10===c.length?b((function(e){return Object(t.a)(Object(t.a)({},e),{},{mobile2Err:""})})):b((function(e){return Object(t.a)(Object(t.a)({},e),{},{mobile2Err:"Invalid"})})));case"corporateHQAddressCountry":var i=S.find((function(e){return e.name===c}));return void A("+"+(null===i||void 0===i?void 0:i.callingCodes[0]));case"corporateLocalBranchAddressCountry":var d=S.find((function(e){return e.name===c}));return void L("+"+d.callingCodes[0])}},handleSubmit:function(r){r.preventDefault();var a=g.emailErr,t=g.mobileErr,o=u.corporateName,c=u.CIN,n=u.corporateHQAddressPhone,s=u.corporateLocalBranchAddressPhone,d=u.corporateHQAddressZipCode;o&&c&&n&&d&&!a&&!t?(u.corporateHQAddressPhone=v+n,u.corporateLocalBranchAddressPhone=N+s,C(Object(p.f)(u,1)),e.history.push("/register/CorporateSecondary")):i.a.error("Please enter all input fields")}})}},97:function(e,r,a){"use strict";a.d(r,"e",(function(){return n})),a.d(r,"c",(function(){return i})),a.d(r,"g",(function(){return d})),a.d(r,"h",(function(){return l})),a.d(r,"j",(function(){return p})),a.d(r,"d",(function(){return u})),a.d(r,"b",(function(){return h})),a.d(r,"f",(function(){return m})),a.d(r,"a",(function(){return j})),a.d(r,"i",(function(){return g}));var t=a(10),o=a(5),c=a(21),n=function(){return function(e){e({type:c.h,payload:void 0})}},s=function(e){return function(r){r({type:c.a,payload:e})}},i=function(){return function(e){t.a.get("http://restcountries.eu/rest/v2/all?fields=name;flag;callingCodes;").then((function(r){var a=r.data;e({type:c.d,payload:a})})).catch((function(e){var r=JSON.stringify(e);o.a.error(JSON.parse(r).message)}))}},d=function(e,r,a){return function(n){var i;"Corporate"===a?i="/o/signUp/Corporate":"University"===a&&(i="/o/signUp/University");var d=new FormData;for(var l in e)d.append(l,e[l]);n(s(!0)),n({type:c.c,payload:e}),t.a.post(i,d).then((function(e){var a=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(a)),localStorage.setItem("steps",3),n({type:c.i,payload:3}),n(s(!1)),o.a.success(a.message),r.push("/register/authentication")})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),n(s(!1))}))}},l=function(e,r,a){return function(a){var n=new FormData;for(var i in e)n.append(i,e[i]);a(s(!0)),a({type:c.c,payload:e}),t.a.post("/o/signUp/Student",n).then((function(e){var t=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(t)),localStorage.setItem("steps",3),a({type:c.i,payload:3}),a(s(!1)),o.a.success(t.message),r.push("/register/studentAuthentication")})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),a(s(!1))}))}},p=function(e,r,a){return function(r){var c=new FormData;for(var n in e)c.append(n,e[n]);r(s(!0)),t.a.post("/o/verifyOTP",c).then((function(e){var t=e.data;r(s(!1)),(null===t||void 0===t?void 0:t.MobileVerified)&&(null===t||void 0===t?void 0:t.emailVerified)?(o.a.success("OTP verification successful"),a.push("/register/completed")):o.a.error("OTP verification failed")})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),r(s(!1))}))}},u=function(e){return function(r){var a=new FormData;for(var c in e)a.append(c,e[c]);r(s(!0)),t.a.post("/o/resendOtp",a).then((function(e){var a=e.data;o.a.success(a.message),r(s(!1))})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),r(s(!1))}))}},h=function(e){return function(r){var a;"Corporate"===e?a="/u/lut/?lutList=corporateType&lutList=corporateCategory&lutList=corporateIndustry":"University"===e&&(a="/u/lut/?lutList=universityCategory"),t.a.get(a).then((function(e){var a=e.data;r({type:c.b,payload:a})})).catch((function(e){var r=JSON.stringify(e);o.a.error(JSON.parse(r).message)}))}},m=function(e,r){return function(a){localStorage.setItem("steps",r),a({type:c.c,payload:e}),a({type:c.i,payload:r})}},j=function(e){return function(r){var a=new FormData;for(var n in e)a.append(n,e[n]);r(s(!0));var i=localStorage.getItem("token"),d={headers:{Authorization:"Bearer ".concat(i)}};t.a.post("/pg/createPayment",a,d).then((function(e){var a=e.data;sessionStorage.setItem("orderID",a.orderID),r({type:c.f,payload:a}),r(s(!1))})).catch((function(e){e.response?o.a.error(e.response.data):o.a.error("Something Wrong!",e.message),r(s(!1))}))}},g=function(e){return function(r){var a=new FormData;a.append("orderID",e);var n=localStorage.getItem("token"),i={headers:{Authorization:"Bearer ".concat(n)}};r(s(!0)),t.a.post("/pg/verifyPayment",a,i).then((function(e){var a,t=e.data;null===t||void 0===t||null===(a=t.messages)||void 0===a||a.forEach((function(e){o.a.success(e)})),r(s(!1)),r({type:c.g,payload:JSON.parse(null===t||void 0===t?void 0:t.referenceObject)})})).catch((function(e){e.response?o.a.error(e.response.data.errors[0].message):o.a.error("Something Wrong!",e.message),r(s(!1))}))}}}}]);