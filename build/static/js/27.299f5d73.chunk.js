(this.webpackJsonppgk=this.webpackJsonppgk||[]).push([[27],{254:function(e,a,r){"use strict";r.d(a,"d",(function(){return s})),r.d(a,"b",(function(){return c})),r.d(a,"f",(function(){return d})),r.d(a,"g",(function(){return l})),r.d(a,"i",(function(){return u})),r.d(a,"c",(function(){return m})),r.d(a,"e",(function(){return v})),r.d(a,"a",(function(){return h})),r.d(a,"h",(function(){return p}));var t=r(9),n=r(5),o=r(35),s=function(){return function(e){e({type:o.h,payload:void 0})}},i=function(e){return function(a){a({type:o.a,payload:e})}},c=function(){return function(e){t.a.get("http://restcountries.eu/rest/v2/all?fields=name;flag;callingCodes;").then((function(a){var r=a.data;e({type:o.d,payload:r})})).catch((function(e){var a=JSON.stringify(e);n.a.error(JSON.parse(a).message)}))}},d=function(e,a,r){return function(s){var c;"Corporate"===r?c="/o/signUp/Corporate":"University"===r&&(c="/o/signUp/University");var d=new FormData;for(var l in e)d.append(l,e[l]);s(i(!0)),s({type:o.c,payload:e}),t.a.post(c,d).then((function(e){var r=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(r)),sessionStorage.setItem("steps",3),s({type:o.i,payload:3}),s(i(!1)),n.a.success(r.message),a.push("/register/authentication")})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),s(i(!1))}))}},l=function(e,a,r){return function(r){var s=new FormData;for(var c in e)s.append(c,e[c]);r(i(!0)),r({type:o.c,payload:e}),t.a.post("/o/signUp/Student",s).then((function(e){var t=e.data;localStorage.removeItem("imgpath"),localStorage.setItem("regStatus",JSON.stringify(t)),sessionStorage.setItem("steps",3),r({type:o.i,payload:3}),r(i(!1)),n.a.success(t.message),a.push("/register/studentAuthentication")})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),r(i(!1))}))}},u=function(e,a){return function(r){var o=new FormData;for(var s in e)o.append(s,e[s]);r(i(!0)),t.a.post("/o/verifyOTP",o).then((function(e){var t=e.data;r(i(!1)),(null===t||void 0===t?void 0:t.MobileVerified)&&(null===t||void 0===t?void 0:t.emailVerified)?(sessionStorage.clear(),n.a.success(t.message),a.push("/register/completed")):n.a.error("OTP verification failed")})).catch((function(e){var a,t,o;(null===e||void 0===e?void 0:e.response)?n.a.error(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t||null===(o=t.errors[0])||void 0===o?void 0:o.message):n.a.error("Something Wrong!",null===e||void 0===e?void 0:e.message);r(i(!1))}))}},m=function(e){return function(a){var r=new FormData;for(var o in e)r.append(o,e[o]);a(i(!0)),t.a.post("/o/resendOtp",r).then((function(e){var r=e.data;n.a.success(r.message),a(i(!1))})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),a(i(!1))}))}},v=function(e,a){return function(r){sessionStorage.setItem("steps",a),r({type:o.c,payload:e}),r({type:o.i,payload:a})}},h=function(e){return function(a){var r=new FormData;for(var s in e)r.append(s,e[s]);a(i(!0));var c=localStorage.getItem("token"),d={headers:{Authorization:"Bearer ".concat(c)}};t.a.post("/pg/createPayment",r,d).then((function(e){var r=e.data;sessionStorage.setItem("orderID",r.orderID),a({type:o.f,payload:r}),a(i(!1))})).catch((function(e){e.response?n.a.error(e.response.data):n.a.error("Something Wrong!",e.message),a(i(!1))}))}},p=function(e){return function(a){var r=new FormData;r.append("orderID",e);var s=localStorage.getItem("token"),c={headers:{Authorization:"Bearer ".concat(s)}};a(i(!0)),t.a.post("/pg/verifyPayment",r,c).then((function(e){var r,t=e.data;null===t||void 0===t||null===(r=t.messages)||void 0===r||r.forEach((function(e){n.a.success(e)})),a(i(!1)),a({type:o.g,payload:JSON.parse(null===t||void 0===t?void 0:t.referenceObject)})})).catch((function(e){e.response?n.a.error(e.response.data.errors[0].message):n.a.error("Something Wrong!",e.message),a(i(!1))}))}}},260:function(e,a,r){"use strict";r.d(a,"c",(function(){return o})),r.d(a,"a",(function(){return s})),r.d(a,"b",(function(){return i}));var t=r(84),n=r.n(t),o=function(e){return null==e?"":e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},s=function(e){for(var a in e)if(""!==e[a]&&null!==e[a]&&void 0!==e[a])return!0;return!1},i=function(e,a){if(void 0===e)return!1;if(void 0===a)return!1;var r=n()(e),t=n()(a);return console.log("mStart ",r),console.log("mEnd ",t),console.log("mStart.isSame(mEnd) || mStart.isBefore(mEnd) ",r.isSame(t)||r.isBefore(t)),r.isSame(t)||r.isBefore(t)}},284:function(e,a,r){"use strict";r(1);var t=r(0);a.a=function(e){return Object(t.jsx)("div",{className:"row",children:Object(t.jsx)("div",{className:"col-md-12",children:Object(t.jsxs)("div",{className:"reg-header",children:[Object(t.jsx)("h4",{className:"reg-header-title",children:null===e||void 0===e?void 0:e.title}),Object(t.jsx)("hr",{className:"reg-header-hr"})]})})})}},405:function(e,a,r){"use strict";r.r(a);var t=r(3),n=r.n(t),o=r(95),s=r(86),i=r(10),c=r(30),d=r(1),l=r(24),u=r(85),m=r(284),v=r(0),h=function(e){var a,r,t,n,o,s,i,c,d,l,h,p,y,j,b,g,C,f,O,N,x,P,S,A,L,w;return Object(v.jsxs)("form",{onSubmit:e.handleSubmit,className:"login-form reg-form",children:[e.showError?Object(v.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Please check all inputs"}):null,Object(v.jsx)(m.a,{title:"Primary Contact"}),Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsx)("div",{className:"col-md-11",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"primaryContactFirstName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(a=e.contactPersonnel)||void 0===a?void 0:a.primaryContactFirstName,label:"First Name",errorMessage:null===e||void 0===e||null===(r=e.errors)||void 0===r?void 0:r.primaryContactFirstName,required:!0})})}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"primaryContactMiddleName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(t=e.contactPersonnel)||void 0===t?void 0:t.primaryContactMiddleName,label:"Middle Name",errorMessage:null===e||void 0===e||null===(n=e.errors)||void 0===n?void 0:n.primaryContactMiddleName,required:!0})})}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"primaryContactLastName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(o=e.contactPersonnel)||void 0===o?void 0:o.primaryContactLastName,label:"Last Name",errorMessage:null===e||void 0===e||null===(s=e.errors)||void 0===s?void 0:s.primaryContactLastName,required:!0})})}),Object(v.jsx)("div",{className:"w-100"}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"primaryContactDesignation",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(i=e.contactPersonnel)||void 0===i?void 0:i.primaryContactDesignation,label:"Designation",errorMessage:null===e||void 0===e||null===(c=e.errors)||void 0===c?void 0:c.primaryContactDesignation,required:!0})})}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{type:"number",name:"primaryContactPhone",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(d=e.contactPersonnel)||void 0===d?void 0:d.primaryContactPhone,label:"Phone Number",errorMessage:null===e||void 0===e||null===(l=e.errors)||void 0===l?void 0:l.primaryContactPhone,required:!0,validations:["minLength_10","maxLength_10"]})})}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"primaryContactEmail",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(h=e.contactPersonnel)||void 0===h?void 0:h.primaryContactEmail,label:"Email",errorMessage:null===e||void 0===e||null===(p=e.errors)||void 0===p?void 0:p.primaryContactEmail,required:!0,validations:["isEmail"]})})})]})})}),Object(v.jsx)(m.a,{title:"Secondary Contact"}),Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsx)("div",{className:"col-md-11",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"secondaryContactFirstName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(y=e.contactPersonnel)||void 0===y?void 0:y.secondaryContactFirstName,label:"First Name",errorMessage:null===e||void 0===e||null===(j=e.errors)||void 0===j?void 0:j.secondaryContactFirstName,required:!1})})}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"secondaryContactMiddleName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(b=e.contactPersonnel)||void 0===b?void 0:b.secondaryContactMiddleName,label:"Middle Name",errorMessage:null===e||void 0===e||null===(g=e.errors)||void 0===g?void 0:g.secondaryContactMiddleName,required:!1})})}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"secondaryContactLastName",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(C=e.contactPersonnel)||void 0===C?void 0:C.secondaryContactLastName,label:"Last Name",errorMessage:null===e||void 0===e||null===(f=e.errors)||void 0===f?void 0:f.secondaryContactLastName,required:!1})})}),Object(v.jsx)("div",{className:"w-100"}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"secondaryContactDesignation",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(O=e.contactPersonnel)||void 0===O?void 0:O.secondaryContactDesignation,label:"Designation",errorMessage:null===e||void 0===e||null===(N=e.errors)||void 0===N?void 0:N.secondaryContactDesignation,required:!1})})}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{type:"number",name:"secondaryContactPhone",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(x=e.contactPersonnel)||void 0===x?void 0:x.secondaryContactPhone,label:"Phone Number",errorMessage:null===e||void 0===e||null===(P=e.errors)||void 0===P?void 0:P.secondaryContactPhone,required:!1,validations:["minLength_10","maxLength_10"]})})}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{name:"secondaryContactEmail",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(S=e.contactPersonnel)||void 0===S?void 0:S.secondaryContactEmail,label:"Email",errorMessage:null===e||void 0===e||null===(A=e.errors)||void 0===A?void 0:A.secondaryContactEmail,required:!1,validations:["isEmail"]})})})]})})}),Object(v.jsx)(m.a,{title:"Password"}),Object(v.jsx)("div",{className:"row justify-content-center",children:Object(v.jsx)("div",{className:"col-md-11",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{type:"password",name:"password",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e||null===(L=e.contactPersonnel)||void 0===L?void 0:L.password,label:"Password (min 8)",errorMessage:null===e||void 0===e||null===(w=e.errors)||void 0===w?void 0:w.password,required:!0,validations:["minLength_8"]})})}),Object(v.jsx)("div",{className:"col-md",children:Object(v.jsx)("div",{className:"mb-15",children:Object(v.jsx)(u.a,{type:"password",name:"repeatPassword",onChange:null===e||void 0===e?void 0:e.handleChange,value:null===e||void 0===e?void 0:e.repeatPassword,label:"Repeat the password",errorMessage:null===e||void 0===e?void 0:e.repeatPasswordErr,validations:["minLength_8",function(a){return function(a){var r;if((null===e||void 0===e||null===(r=e.contactPersonnel)||void 0===r?void 0:r.password)!==a)return"Password does not match"}(a)}],required:!0})})})]})})}),Object(v.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[Object(v.jsx)("button",{type:"button",className:"reg-btn",onClick:function(){e.history.push("/register/CorporateSecondary")},children:"Previous"}),Object(v.jsx)("button",{type:"submit",className:"reg-btn",disabled:e.isBtnDisabled,children:"Next"})]})]})},p=r(254),y=r(260);a.default=function(e){var a={primaryContactFirstName:"",primaryContactMiddleName:"",primaryContactLastName:"",primaryContactDesignation:"",primaryContactPhone:"",primaryContactEmail:"",secondaryContactFirstName:"",secondaryContactMiddleName:"",secondaryContactLastName:"",secondaryContactDesignation:"",secondaryContactPhone:"",secondaryContactEmail:"",password:""},r=a,t={corporateName:"",CIN:"",corporateType:"",corporateCategory:"",corporateIndustry:"",attachment:"",yearOfEstablishment:""},u={corporateHQAddressLine1:"",corporateHQAddressLine2:"",corporateHQAddressCountry:"",corporateHQAddressState:"",corporateHQAddressCity:"",corporateHQAddressDistrict:"",corporateHQAddressZipCode:"",corporateHQAddressPhone:"",corporateHQAddressEmail:"",companyProfile:""},m=Object(d.useState)(a),j=Object(c.a)(m,2),b=j[0],g=j[1],C=Object(d.useState)(""),f=Object(c.a)(C,2),O=f[0],N=f[1],x=Object(d.useState)(""),P=Object(c.a)(x,2),S=P[0],A=P[1],L=Object(d.useState)(r),w=Object(c.a)(L,2),E=w[0],D=w[1],H=Object(d.useState)(!1),Q=Object(c.a)(H,2),B=Q[0],M=Q[1],F=Object(d.useState)(),k=Object(c.a)(F,2),I=k[0],q=k[1],J=Object(l.b)((function(e){return e.CorporateReducer.corporatePrimaryState})),U=(Object(l.b)((function(e){return e.CorporateReducer.apiStatus})),Object(l.a)());Object(d.useEffect)((function(){var r=!1,n=!1;for(var o in J)for(var s in t)o===s&&(""===J[o]&&null===J[o]&&void 0===J[o]||(r=!0));for(var i in J)for(var c in u)i===c&&(""===J[i]&&null===J[i]&&void 0===J[i]||(n=!0));if(!r)return sessionStorage.clear(),e.history.push("/register");if(!n)return sessionStorage.clear(),e.history.push("/register/corporateSecondary");var d=!!(J&&Object.keys(J).length>7);if(J&&d){var l=J,m={};Object.keys(l).map((function(e){for(var r in a)e===r&&(m[r]=l[r])})),g(m)}}),[]),Object(d.useEffect)((function(){var e=Object(y.a)(E);M(e),I&&setTimeout((function(){q(!1)}),2e3)}),[E,I]);var W=function(){var a=Object(o.a)(n.a.mark((function a(r){var t,o,s,c,d,l,u,m,v,h,y,j,g;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),t=localStorage.getItem("type"),o=b.primaryContactFirstName,s=b.primaryContactLastName,c=b.primaryContactDesignation,d=b.primaryContactPhone,l=b.primaryContactEmail,u=b.password,!(o&&s&&c&&d&&l&&u===O)){a.next=30;break}if((j=Object(i.a)(Object(i.a)({},J),b)).corporateHQAddressPhone="+91"+(null===J||void 0===J||null===(m=J.corporateHQAddressPhone)||void 0===m?void 0:m.toString()),j.corporateLocalBranchAddressPhone=(null===J||void 0===J?void 0:J.corporateLocalBranchAddressPhone)?(null===J||void 0===J?void 0:J.countryCode2)+(null===J||void 0===J||null===(v=J.corporateLocalBranchAddressPhone)||void 0===v?void 0:v.toString()):"",j.stakeholder=t,j.primaryContactPhone="+91"+(null===b||void 0===b||null===(h=b.primaryContactPhone)||void 0===h?void 0:h.toString()),j.secondaryContactPhone=(null===b||void 0===b?void 0:b.secondaryContactPhone)?"+91"+(null===b||void 0===b||null===(y=b.secondaryContactPhone)||void 0===y?void 0:y.toString()):"",delete j.countryCode,delete j.countryCode2,delete j.attachment2,delete j.referral,"Corporate"!==t){a.next=22;break}return a.next=17,U(Object(p.e)(b,3));case 17:return a.next=19,U(Object(p.f)(j,e.history,t));case 19:q(!1),a.next=28;break;case 22:if("University"!==t){a.next=28;break}return g={universityName:j.corporateName,universityHQAddressLine1:j.corporateHQAddressLine1,universityHQAddressLine2:j.corporateHQAddressLine2,universityHQAddressLine3:"",universityHQAddressCountry:j.corporateHQAddressCountry,universityHQAddressState:j.corporateHQAddressState,universityHQAddressCity:j.corporateHQAddressCity,universityHQAddressDistrict:j.corporateHQAddressDistrict,universityHQAddressZipcode:j.corporateHQAddressZipCode,universityHQAddressPhone:j.corporateHQAddressPhone,universityHQAddressemail:j.corporateHQAddressEmail,universityLocalBranchAddressLine1:j.corporateLocalBranchAddressLine1,universityLocalBranchAddressLine2:j.corporateLocalBranchAddressLine2,universityLocalBranchAddressLine3:"",universityLocalBranchAddressCountry:j.corporateLocalBranchAddressCountry,universityLocalBranchAddressState:j.corporateLocalBranchAddressState,universityLocalBranchAddressCity:j.corporateLocalBranchAddressCity,universityLocalBranchAddressDistrict:j.corporateLocalBranchAddressDistrict,universityLocalBranchAddressZipcode:j.corporateLocalBranchAddressZipCode,universityLocalBranchAddressPhone:j.corporateLocalBranchAddressPhone,universityLocalBranchAddressemail:j.corporateLocalBranchAddressEmail,primaryContactFirstName:j.primaryContactFirstName,primaryContactMiddleName:j.primaryContactMiddleName,primaryContactLastName:j.primaryContactLastName,primaryContactDesignation:j.primaryContactDesignation,primaryContactPhone:j.primaryContactPhone,primaryContactEmail:j.primaryContactEmail,secondaryContactFirstName:j.secondaryContactFirstName,secondaryContactMiddleName:j.secondaryContactMiddleName,secondaryContactLastName:j.secondaryContactLastName,secondaryContactDesignation:j.secondaryContactDesignation,secondaryContactPhone:j.secondaryContactPhone,secondaryContactEmail:j.secondaryContactEmail,universitySector:j.corporateIndustry,yearOfEstablishment:j.yearOfEstablishment,universityProfile:j.companyProfile,attachment:j.attachment,password:j.password},a.next=26,U(Object(p.e)(g,3));case 26:return a.next=28,U(Object(p.f)(g,e.history,t));case 28:a.next=31;break;case 30:q(!0);case 31:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(v.jsx)(h,{history:e.history,errors:E,showError:I,isBtnDisabled:B,repeatPasswordErr:S,repeatPassword:O,contactPersonnel:b,handleChange:function(e,a,r){"repeatPassword"!==e?(g((function(r){return Object(i.a)(Object(i.a)({},r),{},Object(s.a)({},e,a))})),D((function(a){return Object(i.a)(Object(i.a)({},a),{},Object(s.a)({},e,r))}))):(N(a),A(r))},handleSubmit:W})}}}]);